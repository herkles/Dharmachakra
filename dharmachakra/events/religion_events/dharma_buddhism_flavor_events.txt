namespace = dharma_buddhism


#######################################
#									  #
#       Buddhist Flavor Events        #
#									  #
#######################################

#######################################
# Visiting Monks 
#######################################
dharma_buddhism.001 = {# Buddhist Monks comes to visit
	type = character_event
	title = dharma_buddhism.001.t
	desc = dharma_buddhism.001.desc
	theme = faith
	override_background = {
		event_background = throne_room
	}
	left_portrait = {
		character = root
		animation = personality_rational
	}	

	trigger = {
		is_at_war = no
		religion = religion:buddhism_religion
		is_landed = yes	
	}

	option = {# You can Stay monk
		name = dharma_buddhism.001.stay
		hidden_effect = {
			trigger_event = { id = dharma_buddhism.002 days = 10 }
			trigger_event = { id = dharma_buddhism.003 days = 15 }
			trigger_event = { id = dharma_buddhism.004 days = 20 }
		}
	}
}
dharma_buddhism.002 = {# Dharma Talk
	type = character_event
	title = dharma_buddhism.002.t
	desc = dharma_buddhism.002.desc
	theme = faith
	override_background = {
		event_background = wood_temple
	}
	left_portrait = {
		character = root
		animation = personality_rational
	}	

	option = {# I shall Meditate on this further
		name = dharma_buddhism.002.meditate
		stress_impact = {
			base = miniscule_stress_impact_loss
			gluttonous = miniscule_stress_impact_gain
			lustful = miniscule_stress_impact_gain
			temperate = miniscule_stress_impact_loss
			calm = miniscule_stress_impact_loss
			arrogant = miniscule_stress_impact_gain
		}
	}
}
dharma_buddhism.003 = {# Making Merit - Buddhist monk asks me for donations
	type = character_event
	title = dharma_buddhism.003.t
	desc = dharma_buddhism.003.desc
	theme = faith
	override_background = {
		event_background = wood_temple
	}
	left_portrait = {
		character = root
		animation = personality_rational
	}	

	option = {# Here you go
		name = dharma_buddhism.003.donate
		remove_short_term_gold = 20
		stress_impact = {
			base = miniscule_stress_impact_loss
			greedy = minor_stress_gain
			improvident = minor_stress_impact_loss
			generous = minor_stress_impact_loss

		}
	}
}
dharma_buddhism.004 = {# Meditate with Monk? 
	type = character_event
	title = dharma_buddhism.004.t
	desc = dharma_buddhism.004.desc
	theme = faith
	override_background = {
		event_background = wood_temple
	}
	left_portrait = {
		character = root
		animation = personality_rational
	}	

	option = {# Saddly I am busy
		name = dharma_buddhism.004.busy
		stress_impact = {
			base = miniscule_stress_impact_loss
			lazy = minor_stress_impact_loss
		}
	}
	option = {# Om Mani Padme Hum
		name = dharma_buddhism.004.mani
		add_piety = miniscule_piety_gain
	}
}
#######################################
# Visiting Nalanda
#######################################

#######################################
# Merit-Making 
#######################################
dharma_buddhism.019 = {# Donating to the local Monks
	type = character_event
	title = dharma_buddhism.019.t
	desc = dharma_buddhism.019.desc
	theme = faith
	override_background = {
		event_background = tibetan_temple
	}
	left_portrait = {
		character = root
		animation = personality_rational
	}	

	trigger = {
		is_at_war = no
		religion = religion:buddhism_religion
		is_landed = yes	
	}

	option = {# Donate Supplies
		name = dharma_buddhism.019.gold
		remove_short_term_gold = medium_gold_value
		add_piety = medium_piety_gain
	}
	option = {# Not My concern
		name = dharma_buddhism.019.optout
		add_character_modifier = {# Unhappy Monks
			modifier = upset_monks
			years = 3
		}	
	}
}
dharma_buddhism.020 = {# Life Release
	type = character_event
	title = dharma_buddhism.020.t
	desc = dharma_buddhism.020.desc
	theme = faith
	override_background = {
		event_background = wilderness
	}
	left_portrait = {
		character = root
		animation = personality_rational
	}	

	trigger = {
		is_at_war = no
		religion = religion:buddhism_religion
		is_landed = yes	
	}

	option = {# Let the animal go
		name = dharma_buddhism.020.release
		add_piety = minor_piety_gain
		stress_impact = {
			base = miniscule_stress_impact_loss
			compassionate = minor_stress_loss
			hunter_1 = minor_stress_gain
			hunter_2 = minor_stress_gain
			hunter_3 = minor_stress_gain
		}
	}
	option = {# Need it for my dinner
		name = dharma_buddhism.020.food
		add_piety = minor_piety_loss
		stress_impact = {
			base = miniscule_stress_impact_loss
			compassionate = minor_stress_gain
			hunter_1 = minor_stress_loss
			hunter_2 = minor_stress_loss
			hunter_3 = minor_stress_loss
		}

	}
}
dharma_buddhism.021 = {# Donating to the Poor
	type = character_event
	title = dharma_buddhism.021.t
	desc = dharma_buddhism.021.desc
	theme = faith
	override_background = {
		event_background = india_shrine
	}
	left_portrait = {
		character = root
		animation = personality_rational
	}	

	trigger = {
		is_at_war = no
		religion = religion:buddhism_religion
		is_landed = yes	
	}

	option = {# Large Donation
		name = dharma_buddhism.021.large
		stress_impact = {
			base = medium_stress_impact_loss

			generous = medium_stress_impact_loss
			profligate = medium_stress_impact_loss
			
			greedy = medium_stress_impact_gain
			improvident = medium_stress_impact_gain
			zealous = medium_stress_impact_gain
		}
		remove_short_term_gold = medium_gold_value
		add_piety = medium_piety_gain
	}
	option = {# Normal Donation
		name = dharma_buddhism.021.average
		stress_impact = {
			base = miniscule_stress_impact_loss

			generous = minor_stress_impact_loss
			profligate = minor_stress_impact_loss
			
			greedy = minor_stress_impact_gain
			improvident = minor_stress_impact_gain
			zealous = minor_stress_impact_gain
		}
		remove_short_term_gold = minor_gold_value
		add_piety = minor_piety_gain

	}
}
dharma_buddhism.023 = {# First Harvest Offerings
	type = character_event
	title = dharma_buddhism.023.t
	desc = dharma_buddhism.023.desc
	theme = faith
	override_background = {
		event_background = forest_temple
	}
	left_portrait = {
		character = root
		animation = personality_rational
	}	

	trigger = {
		is_at_war = no
		religion = religion:buddhism_religion
		is_landed = yes	
	}

	option = {# Give to the Monks
		name = dharma_buddhism.023.monks
		add_character_modifier = {# Happy Monks
			modifier = happy_monks
			years = 5
		}
		capital_province = {
			add_province_modifier = {# unhappy peasants
				modifier = upset_peasants
				years = 2
			}
		}	
	}
	option = {# Give to the people
		name = dharma_buddhism.023.people
		add_character_modifier = {# Unhappy Monks
			modifier = upset_monks
			years = 5
		}
		capital_province = {
			add_province_modifier = {# Happy peasants
				modifier = governance_1054_satisfied_peasants_modifier
				years = 2
			}
		}		
		# monks upset
		# peasants happy
	}
}
#######################################
#									  #
# 	  MEDITATION RETREAT EVENTS       #
#									  #
#######################################

#######################################
# Meditation Retreat scripts
#######################################
scripted_effect improve_meditation_skill = {
	if = {
		limit = {
			has_variable = meditation_experience
		}
		change_variable = {
			name = meditation_experience
			add = 1
		}
	}
	else = {
		set_variable = {
			name = meditation_experience
			value = 1
		}
	}
	custom_tooltip = dharma_buddhism.0211.experience
}
#######################################
# Meditation Retreat Base Events
#######################################
dharma_buddhism.100 = {# Departing for the monastasry
	type = character_event
	title = dharma_buddhism.100.t
	desc = dharma_buddhism.100.desc
	theme = faith
	override_background = {
		event_background = cliff_temple
	}
	left_portrait = {
		character = root
		animation = personality_rational
	}

	immediate = {
		capital_province = { save_scope_as = capital_province } #For loc.
		# Stop characters from planning multiple activities at once.
		add_character_flag = planning_an_activity
	}

	# Option 1: Departing for the monastary
	option = {
		name = dharma_buddhism.100.depart
		scope:capital_province = {	
			spawn_activity = {
				owner = root
				type = activity_dharma_buddhist_retreat
			}	
		}
	}

	# Option 2: On second thought, not today.
	option = {
		name = dharma_buddhism.100.optout
		flavor = dharma_buddhism.100.optout.flavor
		hidden_effect = {
			remove_character_flag = planning_an_activity
		}
		ai_chance = {
			base = 0
		}		
	}

}
dharma_buddhism.101 = {# Arriving at the Monastary
	type = character_event
	title = dharma_buddhism.101.t
	desc = dharma_buddhism.101.desc
	theme = faith
	override_background = {
		event_background = cliff_temple
	}
	left_portrait = {
		character = root
		animation = personality_rational
	}

	option = {# Twelve Month Retreat
		name = dharma_buddhism.101.twelve
		hidden_effect = {
			scope:activity = {
				set_variable = {
					name = dharma_buddhist_retreate_length_value
					value = long_buddhist_retreat_var
				}
			}
		}
	}
	option = {# Six Month Retreat
		name = dharma_buddhism.101.six
		hidden_effect = {
			scope:activity = {
				set_variable = {
					name = dharma_buddhist_retreate_length_value
					value = medium_buddhist_retreat_var
				}
			}
		}
	}
	option = {# Three Month Retreat
		name = dharma_buddhism.101.three
		hidden_effect = {
			scope:activity = {
				set_variable = {
					name = dharma_buddhist_retreate_length_value
					value = short_buddhist_retreat_var
				}
			}
		}
	}

	after = {
		dharma_set_up_next_buddhist_retreat_event_effect = { DAYS = 30 }
	}
}
#######################################
# Random Buddhist Retreat Events
#######################################
dharma_buddhism.102 = {# Back to basics
	type = character_event
	title = dharma_buddhism.102.t
	desc = dharma_buddhism.102.desc
	theme = faith
	override_background = {
		event_background = cliff_temple
	}
	left_portrait = {
		character = root
		animation = personality_rational
	}	

	trigger = {
		exists = scope:activity
		NOT = {
			exists = scope:activity.var:had_dharma_buddhism_102
		}
	}

	immediate = {
		scope:activity = {
			set_variable = {
				name = had_dharma_buddhism_102
				value = yes
			}
		}
		random_list = {
			15 = {
				change_variable = {
					name = dharma_buddhist_retreat_outcome_counter
					add = 1
				}
			}
			85 = {# Rare to improve your chances

			}
		}
	}

	option = {
		name = dharma_buddhism.102.a
		add_piety = miniscule_piety_gain
		stress_impact = {
			base = miniscule_stress_impact_loss
		}
	}

	after = {
		dharma_set_up_next_buddhist_retreat_event_effect = { DAYS = 30 }
	}
}
dharma_buddhism.103 = {# monastic food
	type = character_event
	title = dharma_buddhism.103.t
	desc = dharma_buddhism.103.desc
	theme = faith
	override_background = {
		event_background = cliff_temple
	}
	left_portrait = {
		character = root
		animation = personality_rational
	}

	trigger = {
		exists = scope:activity
		NOT = {
			exists = scope:activity.var:had_dharma_buddhism_103
		}
	}

	immediate = {
		scope:activity = {
			set_variable = {
				name = had_dharma_buddhism_103
				value = yes
			}
		}
		random_list = {
			15 = {
				change_variable = {
					name = dharma_buddhist_retreat_outcome_counter
					add = 1
				}
			}
			85 = {# Rare to improve your chances

			}
		}
	}

	option = {
		name = dharma_buddhism.103.a
		add_piety = miniscule_piety_gain
		stress_impact = {
			base = miniscule_stress_impact_gain
			gluttonous = minor_stress_gain
		}
	}
	option = {
		name = dharma_buddhism.103.b
		add_piety = miniscule_piety_loss
		stress_impact = {
			base = miniscule_stress_impact_loss
			gluttonous = minor_stress_loss
		}
	}

	after = {
		dharma_set_up_next_buddhist_retreat_event_effect = { DAYS = 30 }
	}
}
dharma_buddhism.104 = {# Meditate with eyes shut
	type = character_event
	title = dharma_buddhism.104.t
	desc = dharma_buddhism.104.desc
	theme = faith
	override_background = {
		event_background = cliff_temple
	}
	left_portrait = {
		character = root
		animation = personality_rational
	}

	trigger = {
		exists = scope:activity
		NOT = {
			exists = scope:activity.var:had_dharma_buddhism_104
		}
	}

	immediate = {
		scope:activity = {
			set_variable = {
				name = had_dharma_buddhism_104
				value = yes
			}
		}
		random_list = {
			15 = {
				change_variable = {
					name = dharma_buddhist_retreat_outcome_counter
					add = 1
				}
			}
			85 = {# Rare to improve your chances

			}
		}
	}

	option = {
		name = dharma_buddhism.104.a
		stress_impact = {
			base = miniscule_stress_impact_loss
		}
	}

	after = {
		dharma_set_up_next_buddhist_retreat_event_effect = { DAYS = 30 }
	}
}
dharma_buddhism.105 = {# Uncomfortable robes!
	type = character_event
	title = dharma_buddhism.105.t
	desc = dharma_buddhism.105.desc
	theme = faith
	override_background = {
		event_background = cliff_temple
	}
	left_portrait = {
		character = root
		animation = personality_rational
	}

	trigger = {
		exists = scope:activity
		NOT = {
			exists = scope:activity.var:had_dharma_buddhism_105
		}
	}

	immediate = {
		scope:activity = {
			set_variable = {
				name = had_dharma_buddhism_105
				value = yes
			}
		}
		random_list = {
			15 = {
				change_variable = {
					name = dharma_buddhist_retreat_outcome_counter
					add = 1
				}
			}
			85 = {# Rare to improve your chances

			}
		}
	}

	option = {
		name = dharma_buddhism.105.a
		stress_impact = {
			base = miniscule_stress_impact_gain
			humble = miniscule_stress_impact_loss
			arrogant = miniscule_stress_impact_gain
		}
	}

	after = {
		dharma_set_up_next_buddhist_retreat_event_effect = { DAYS = 30 }
	}
}
dharma_buddhism.106 = {# Numb legs
	type = character_event
	title = dharma_buddhism.106.t
	desc = dharma_buddhism.106.desc
	theme = faith
	override_background = {
		event_background = cliff_temple
	}
	left_portrait = {
		character = root
		animation = personality_rational
	}

	trigger = {
		exists = scope:activity
		NOT = {
			exists = scope:activity.var:had_dharma_buddhism_106
		}
	}

	immediate = {
		scope:activity = {
			set_variable = {
				name = had_dharma_buddhism_106
				value = yes
			}
		}
		random_list = {
			15 = {
				change_variable = {
					name = dharma_buddhist_retreat_outcome_counter
					add = 1
				}
			}
			85 = {# Rare to improve your chances

			}
		}
	}

	option = {
		name = dharma_buddhism.106.a
		stress_impact = {
			base = miniscule_stress_impact_loss
			compassionate = minor_stress_impact_loss
		}
	}
	after = {
		dharma_set_up_next_buddhist_retreat_event_effect = { DAYS = 30 }
	}
}
dharma_buddhism.107 = {# An exam
	type = character_event
	title = dharma_buddhism.107.t
	desc = dharma_buddhism.107.desc
	theme = faith
	override_background = {
		event_background = cliff_temple
	}
	left_portrait = {
		character = root
		animation = personality_rational
	}

	trigger = {
		exists = scope:activity
		NOT = {
			exists = scope:activity.var:had_dharma_buddhism_107
		}
	}

	immediate = {
		scope:activity = {
			set_variable = {
				name = had_dharma_buddhism_107
				value = yes
			}
		}
		random_list = {
			15 = {
				change_variable = {
					name = dharma_buddhist_retreat_outcome_counter
					add = 1
				}
			}
			85 = {# Rare to improve your chances

			}
		}
	}

	option = {
		name = dharma_buddhism.107.a
		add_piety = miniscule_piety_gain
	}
	after = {
		dharma_set_up_next_buddhist_retreat_event_effect = { DAYS = 30 }
	}
}
dharma_buddhism.108 = {# The Nature of Emptiness
	type = character_event
	title = dharma_buddhism.108.t
	desc = dharma_buddhism.108.desc
	theme = faith
	override_background = {
		event_background = cliff_temple
	}
	left_portrait = {
		character = root
		animation = personality_rational
	}

	trigger = {
		exists = scope:activity
		NOT = {
			exists = scope:activity.var:had_dharma_buddhism_108
		}
	}

	immediate = {
		scope:activity = {
			set_variable = {
				name = had_dharma_buddhism_108
				value = yes
			}
		}
		random_list = {
			15 = {
				change_variable = {
					name = dharma_buddhist_retreat_outcome_counter
					add = 1
				}
			}
			85 = {# Rare to improve your chances

			}
		}
	}

	option = {
		name = dharma_buddhism.108.a
		add_piety = miniscule_piety_gain
	}
	after = {
		dharma_set_up_next_buddhist_retreat_event_effect = { DAYS = 30 }
	}
}
dharma_buddhism.109 = {# Master's Wisdom
	type = character_event
	title = dharma_buddhism.109.t
	desc = dharma_buddhism.109.desc
	theme = faith
	override_background = {
		event_background = cliff_temple
	}
	left_portrait = {
		character = root
		animation = personality_rational
	}

	trigger = {
		exists = scope:activity
		NOT = {
			exists = scope:activity.var:had_dharma_buddhism_109
		}
	}

	immediate = {
		scope:activity = {
			set_variable = {
				name = had_dharma_buddhism_109
				value = yes
			}
		}
		random_list = {
			15 = {
				change_variable = {
					name = dharma_buddhist_retreat_outcome_counter
					add = 1
				}
			}
			85 = {# Rare to improve your chances

			}
		}
	}

	option = {
		name = dharma_buddhism.109.a
		add_piety = miniscule_piety_loss
		stress_impact = {
			base = miniscule_stress_impact_gain
			diligent = miniscule_stress_impact_gain
			ambitious = miniscule_stress_impact_gain
			scholar = miniscule_stress_impact_gain
			zealous = miniscule_stress_impact_gain
			theologian = miniscule_stress_impact_gain
			lazy = miniscule_stress_impact_loss
		}
	}
	option = {
		name = dharma_buddhism.109.b
		trigger = { learning = 15 }
		add_piety = miniscule_piety_gain
		stress_impact = {
			base = miniscule_stress_impact_loss
			diligent = miniscule_stress_impact_loss
			ambitious = miniscule_stress_impact_loss
			scholar = miniscule_stress_impact_loss
			zealous = miniscule_stress_impact_loss
			theologian = miniscule_stress_impact_loss
			lazy = miniscule_stress_impact_gain
		}
	}
	
	after = {
		dharma_set_up_next_buddhist_retreat_event_effect = { DAYS = 30 }
	}
}
dharma_buddhism.110 = {# Distract self or not?
	type = character_event
	title = dharma_buddhism.110.t
	desc = dharma_buddhism.110.desc
	theme = faith
	override_background = {
		event_background = cliff_temple
	}
	left_portrait = {
		character = root
		animation = personality_rational
	}

	trigger = {
		exists = scope:activity
		NOT = {
			exists = scope:activity.var:had_dharma_buddhism_110
		}
	}

	immediate = {
		scope:activity = {
			set_variable = {
				name = had_dharma_buddhism_110
				value = yes
			}
		}
		random_list = {
			15 = {
				change_variable = {
					name = dharma_buddhist_retreat_outcome_counter
					add = 1
				}
			}
			85 = {# Rare to improve your chances

			}
		}
		
	}

	option = {
		name = dharma_buddhism.110.a
		add_piety = minor_piety_gain
		stress_impact = {
			base = minor_stress_impact_gain
		}
	}
	option = {
		name = dharma_buddhism.110.b
		add_piety = minor_piety_loss
		stress_impact = {
			base = minor_stress_impact_loss
		}
	}

	after = {
		dharma_set_up_next_buddhist_retreat_event_effect = { DAYS = 30 }
	}
}
dharma_buddhism.111 = {# Whack!
	type = character_event
	title = dharma_buddhism.111.t
	desc = dharma_buddhism.111.desc
	theme = faith
	override_background = {
		event_background = cliff_temple
	}
	left_portrait = {
		character = root
		animation = personality_rational
	}

	trigger = {
		exists = scope:activity
		NOT = {
			exists = scope:activity.var:had_dharma_buddhism_111
		}
	}

	immediate = {
		scope:activity = {
			set_variable = {
				name = had_dharma_buddhism_111
				value = yes
			}
		}
		random_list = {
			15 = {
				change_variable = {
					name = dharma_buddhist_retreat_outcome_counter
					add = 1
				}
			}
			85 = {# Rare to improve your chances

			}
		}
	}

	option = {
		name = dharma_buddhism.111.a
		add_piety = miniscule_piety_gain
		stress_impact = {
			base = miniscule_stress_impact_gain
		}
	}

	after = {
		dharma_set_up_next_buddhist_retreat_event_effect = { DAYS = 30 }
	}
}
dharma_buddhism.112 = {# Energized!
	type = character_event
	title = dharma_buddhism.112.t
	desc = dharma_buddhism.112.desc
	theme = faith
	override_background = {
		event_background = cliff_temple
	}
	left_portrait = {
		character = root
		animation = personality_rational
	}

	trigger = {
		exists = scope:activity
		NOT = {
			exists = scope:activity.var:had_dharma_buddhism_112
		}
	}

	immediate = {
		scope:activity = {
			set_variable = {
				name = had_dharma_buddhism_112
				value = yes
			}
		}
		random_list = {
			15 = {
				change_variable = {
					name = dharma_buddhist_retreat_outcome_counter
					add = 1
				}
			}
			85 = {# Rare to improve your chances

			}
		}
	}

	option = {
		name = dharma_buddhism.112.a
		stress_impact = {
			base = miniscule_stress_impact_loss
		}
	}
	after = {
		dharma_set_up_next_buddhist_retreat_event_effect = { DAYS = 30 }
	}
}
dharma_buddhism.113 = {# Going outside
	type = character_event
	title = dharma_buddhism.113.t
	desc = dharma_buddhism.113.desc
	theme = faith
	override_background = {
		event_background = cliff_temple
	}
	left_portrait = {
		character = root
		animation = personality_rational
	}

	trigger = {
		exists = scope:activity
		NOT = {
			exists = scope:activity.var:had_dharma_buddhism_113
		}
	}

	immediate = {
		scope:activity = {
			set_variable = {
				name = had_dharma_buddhism_113
				value = yes
			}
		}
		random_list = {
			15 = {
				change_variable = {
					name = dharma_buddhist_retreat_outcome_counter
					add = 1
				}
			}
			85 = {# Rare to improve your chances

			}
		}
	}

	option = {
		name = dharma_buddhism.113.a
		stress_impact = {
			base = miniscule_stress_impact_loss
		}
	}
	after = {
		dharma_set_up_next_buddhist_retreat_event_effect = { DAYS = 30 }
	}
}
dharma_buddhism.114 = {# Questions and Answers
	type = character_event
	title = dharma_buddhism.114.t
	desc = dharma_buddhism.114.desc
	theme = faith
	override_background = {
		event_background = cliff_temple
	}
	left_portrait = {
		character = root
		animation = personality_rational
	}

	trigger = {
		exists = scope:activity
		NOT = {
			exists = scope:activity.var:had_dharma_buddhism_114
		}
	}

	immediate = {
		scope:activity = {
			set_variable = {
				name = had_dharma_buddhism_114
				value = yes
			}
		}
		random_list = {
			15 = {
				change_variable = {
					name = dharma_buddhist_retreat_outcome_counter
					add = 1
				}
			}
			85 = {# Rare to improve your chances

			}
		}
	}

	option = {
		name = dharma_buddhism.114.a

		stress_impact = {
			base = miniscule_stress_impact_loss
		}
	}

	after = {
		dharma_set_up_next_buddhist_retreat_event_effect = { DAYS = 30 }
	}
}
dharma_buddhism.115 = {# Heightened Senses
	type = character_event
	title = dharma_buddhism.115.t
	desc = dharma_buddhism.115.desc
	theme = faith
	override_background = {
		event_background = cliff_temple
	}
	left_portrait = {
		character = root
		animation = personality_rational
	}

	trigger = {
		exists = scope:activity
		NOT = {
			exists = scope:activity.var:had_dharma_buddhism_115
		}
	}

	immediate = {
		scope:activity = {
			set_variable = {
				name = had_dharma_buddhism_115
				value = yes
			}
		}
		random_list = {
			15 = {
				change_variable = {
					name = dharma_buddhist_retreat_outcome_counter
					add = 1
				}
			}
			85 = {# Rare to improve your chances

			}
		}
	}

	option = {
		name = dharma_buddhism.115.a
		add_piety = miniscule_piety_gain
		stress_impact = {
			base = miniscule_stress_impact_loss
		}
	}
	after = {
		dharma_set_up_next_buddhist_retreat_event_effect = { DAYS = 30 }
	}
}
dharma_buddhism.116 = {# Dealing with Boredom
	type = character_event
	title = dharma_buddhism.116.t
	desc = dharma_buddhism.116.desc
	theme = faith
	override_background = {
		event_background = cliff_temple
	}
	left_portrait = {
		character = root
		animation = personality_rational
	}

	trigger = {
		exists = scope:activity
		NOT = {
			exists = scope:activity.var:had_dharma_buddhism_116
		}
	}

	immediate = {
		scope:activity = {
			set_variable = {
				name = had_dharma_buddhism_116
				value = yes
			}
		}
		random_list = {
			15 = {
				change_variable = {
					name = dharma_buddhist_retreat_outcome_counter
					add = 1
				}
			}
			85 = {# Rare to improve your chances

			}
		}
	}

	option = {
		name = dharma_buddhism.116.a
		random_list = {
			5 = {
				if = {
					limit = { has_trait = lazy }
					remove_trait = lazy
				}
				add_trait = diligent
			}
			95 = {
				add_piety = minor_piety_gain
			}
		}
		stress_impact = {
			base = miniscule_stress_impact_gain
			lazy = minor_stress_impact_gain
			hunter_1 = minor_stress_impact_gain
			hunter_2 = minor_stress_impact_gain
			hunter_3 = minor_stress_impact_gain
			reveler_1 = minor_stress_impact_gain
			reveler_2 = minor_stress_impact_gain
			reveler_3 = minor_stress_impact_gain
		}
	}
	after = {
		dharma_set_up_next_buddhist_retreat_event_effect = { DAYS = 30 }
	}
}
dharma_buddhism.117 = {# Dealing with no pleasure
	type = character_event
	title = dharma_buddhism.117.t
	desc = dharma_buddhism.117.desc
	theme = faith
	override_background = {
		event_background = cliff_temple
	}
	left_portrait = {
		character = root
		animation = personality_rational
	}

	trigger = {
		exists = scope:activity
		NOT = {
			exists = scope:activity.var:had_dharma_buddhism_117
		}
	}

	immediate = {
		scope:activity = {
			set_variable = {
				name = had_dharma_buddhism_117
				value = yes
			}
		}
		random_list = {
			15 = {
				change_variable = {
					name = dharma_buddhist_retreat_outcome_counter
					add = 1
				}
			}
			85 = {# Rare to improve your chances

			}
		}
	}

	option = {
		name = dharma_buddhism.117.a
		random_list = {
			5 = {
				if = {
					limit = { has_trait = lustful }
					remove_trait = lustful
				}
				add_trait = chaste
			}
			95 = {
				add_piety = minor_piety_gain
			}
		}
		stress_impact = {
			base = miniscule_stress_impact_gain
			lustful = minor_stress_impact_gain
			seducer = minor_stress_impact_gain
			rakish = minor_stress_impact_gain
		}
	}
	after = {
		dharma_set_up_next_buddhist_retreat_event_effect = { DAYS = 30 }
	}
}
dharma_buddhism.118 = {# Doing Chores
	type = character_event
	title = dharma_buddhism.118.t
	desc = dharma_buddhism.118.desc
	theme = faith
	override_background = {
		event_background = cliff_temple
	}
	left_portrait = {
		character = root
		animation = personality_rational
	}

	trigger = {
		exists = scope:activity
		NOT = {
			exists = scope:activity.var:had_dharma_buddhism_118
		}
	}

	immediate = {
		scope:activity = {
			set_variable = {
				name = had_dharma_buddhism_118
				value = yes
			}
		}
		random_list = {
			15 = {
				change_variable = {
					name = dharma_buddhist_retreat_outcome_counter
					add = 1
				}
			}
			85 = {# Rare to improve your chances

			}
		}
	}

	option = {
		name = dharma_buddhism.118.a
		random_list = {
			5 = {
				if = {
					limit = { has_trait = arrogant }
					remove_trait = arrogant
				}
				add_trait = humble
			}
			95 = {
				add_piety = minor_piety_gain
			}
		}
		stress_impact = {
			base = miniscule_stress_impact_gain
			arrogant = minor_stress_impact_gain
		}
	}
	after = {
		dharma_set_up_next_buddhist_retreat_event_effect = { DAYS = 30 }
	}
}
dharma_buddhism.119 = {# Questions and Answers
	type = character_event
	title = dharma_buddhism.119.t
	desc = dharma_buddhism.119.desc
	theme = faith
	override_background = {
		event_background = cliff_temple
	}
	left_portrait = {
		character = root
		animation = personality_rational
	}

	trigger = {
		exists = scope:activity
		NOT = {
			exists = scope:activity.var:had_dharma_buddhism_119
		}
	}

	immediate = {
		scope:activity = {
			set_variable = {
				name = had_dharma_buddhism_119
				value = yes
			}
		}
		random_list = {
			15 = {
				change_variable = {
					name = dharma_buddhist_retreat_outcome_counter
					add = 1
				}
			}
			85 = {# Rare to improve your chances

			}
		}
	}

	option = {
		name = dharma_buddhism.119.a
		add_piety = miniscule_piety_gain
		stress_impact = {
			base = miniscule_stress_impact_loss
		}
	}
	after = {
		dharma_set_up_next_buddhist_retreat_event_effect = { DAYS = 30 }
	}
}
dharma_buddhism.120 = {# Meditating by myself
	type = character_event
	title = dharma_buddhism.120.t
	desc = dharma_buddhism.120.desc
	theme = faith
	override_background = {
		event_background = cliff_temple
	}
	left_portrait = {
		character = root
		animation = personality_rational
	}

	trigger = {
		exists = scope:activity
		NOT = {
			exists = scope:activity.var:had_dharma_buddhism_120
		}
	}

	immediate = {
		scope:activity = {
			set_variable = {
				name = had_dharma_buddhism_120
				value = yes
			}
		}
		random_list = {
			15 = {
				change_variable = {
					name = dharma_buddhist_retreat_outcome_counter
					add = 1
				}
			}
			85 = {# Rare to improve your chances

			}
		}
	}

	option = {
		name = dharma_buddhism.120.a
		add_character_modifier = {
			modifier = introspective_rest_modifier
			months = 4
		}		
		stress_impact = {
			base = miniscule_stress_impact_loss
		}
	}
	after = {
		dharma_set_up_next_buddhist_retreat_event_effect = { DAYS = 30 }
	}
}
dharma_buddhism.121 = {# Gardening
	type = character_event
	title = dharma_buddhism.121.t
	desc = dharma_buddhism.121.desc
	theme = faith
	override_background = {
		event_background = cliff_temple
	}
	left_portrait = {
		character = root
		animation = personality_rational
	}

	trigger = {
		exists = scope:activity
		NOT = {
			exists = scope:activity.var:had_dharma_buddhism_121
		}
	}

	immediate = {
		scope:activity = {
			set_variable = {
				name = had_dharma_buddhism_121
				value = yes
			}
		}
		random_list = {
			15 = {
				change_variable = {
					name = dharma_buddhist_retreat_outcome_counter
					add = 1
				}
			}
			85 = {# Rare to improve your chances

			}
		}
	}

	option = {
		name = dharma_buddhism.121.plants
		duel = {
			skill = learning
			value = very_high_skill_rating
			10 = {
				desc = dharma_buddhism.307.plants.success
				compare_modifier = {
					value = scope:duel_value
					multiplier = 0.5
					min = -14
				}
				send_interface_toast = {
					title = dharma_buddhism.121.plants.success_title
					left_icon = root
					add_prestige = minor_prestige_gain
					if = {
						limit = { exists = scope:increase_mystic }
						change_trait_rank = {
							trait = lifestyle_mystic
							rank = 1
						}
					}
				}
			}
			15 = {
				desc = dharma_buddhism.121.plants.failure
				compare_modifier = {
					value = scope:duel_value
					multiplier = -0.5
					min = -9
				}
				send_interface_toast = {
					title = dharma_buddhism.121.plants.failure_title
					left_icon = root
				}
			}
		}
	}
	after = {
		dharma_set_up_next_buddhist_retreat_event_effect = { DAYS = 30 }
	}
}
dharma_buddhism.122 = {# Chant names of Buddhas and Bodhisattvas
	type = character_event
	title = dharma_buddhism.122.t
	desc = dharma_buddhism.122.desc
	theme = faith
	override_background = {
		event_background = cliff_temple
	}
	left_portrait = {
		character = root
		animation = personality_rational
	}

	trigger = {
		exists = scope:activity
		NOT = {
			exists = scope:activity.var:had_dharma_buddhism_122
		}
	}

	immediate = {
		scope:activity = {
			set_variable = {
				name = had_dharma_buddhism_122
				value = yes
			}
		}
		random_list = {
			15 = {
				change_variable = {
					name = dharma_buddhist_retreat_outcome_counter
					add = 1
				}
			}
			85 = {# Rare to improve your chances

			}
		}
	}

	option = {
		name = dharma_buddhism.122.a
		add_piety = miniscule_piety_gain
		stress_impact = {
			base = miniscule_stress_impact_loss
		}
	}
	after = {
		dharma_set_up_next_buddhist_retreat_event_effect = { DAYS = 30 }
	}
}
dharma_buddhism.123 = {# Buddhist Mantras
	type = character_event
	title = dharma_buddhism.123.t
	desc = dharma_buddhism.123.desc
	theme = faith
	override_background = {
		event_background = cliff_temple
	}
	left_portrait = {
		character = root
		animation = personality_rational
	}

	trigger = {
		exists = scope:activity
		NOT = {
			exists = scope:activity.var:had_dharma_buddhism_123
		}
	}

	immediate = {
		scope:activity = {
			set_variable = {
				name = had_dharma_buddhism_123
				value = yes
			}
		}
		random_list = {
			15 = {
				change_variable = {
					name = dharma_buddhist_retreat_outcome_counter
					add = 1
				}
			}
			85 = {# Rare to improve your chances

			}
		}
	}

	option = {
		name = dharma_buddhism.123.a
		add_piety = miniscule_piety_gain
		stress_impact = {
			base = miniscule_stress_impact_loss
		}
	}
	after = {
		dharma_set_up_next_buddhist_retreat_event_effect = { DAYS = 30 }
	}
}
dharma_buddhism.124 = {# Walking Meditation
	type = character_event
	title = dharma_buddhism.124.t
	desc = dharma_buddhism.124.desc
	theme = faith
	override_background = {
		event_background = cliff_temple
	}
	left_portrait = {
		character = root
		animation = personality_rational
	}

	trigger = {
		exists = scope:activity
		NOT = {
			exists = scope:activity.var:had_dharma_buddhism_124
		}
	}

	immediate = {
		scope:activity = {
			set_variable = {
				name = had_dharma_buddhism_124
				value = yes
			}
		}
		random_list = {
			15 = {
				change_variable = {
					name = dharma_buddhist_retreat_outcome_counter
					add = 1
				}
			}
			85 = {# Rare to improve your chances

			}
		}
	}

	option = {
		name = dharma_buddhism.124.a
		add_piety = miniscule_piety_gain
		stress_impact = {
			base = miniscule_stress_impact_loss
		}
	}
	after = {
		dharma_set_up_next_buddhist_retreat_event_effect = { DAYS = 30 }
	}
}
dharma_buddhism.125 = {# Buddha visualization
	type = character_event
	title = dharma_buddhism.125.t
	desc = dharma_buddhism.125.desc
	theme = faith
	override_background = {
		event_background = cliff_temple
	}
	left_portrait = {
		character = root
		animation = personality_rational
	}

	trigger = {
		exists = scope:activity
		NOT = {
			exists = scope:activity.var:had_dharma_buddhism_125
		}
	}

	immediate = {
		scope:activity = {
			set_variable = {
				name = had_dharma_buddhism_125
				value = yes
			}
		}
		random_list = {
			15 = {
				change_variable = {
					name = dharma_buddhist_retreat_outcome_counter
					add = 1
				}
			}
			85 = {# Rare to improve your chances

			}
		}
	}

	option = {
		name = dharma_buddhism.125.a
		add_piety = miniscule_piety_gain
		stress_impact = {
			base = miniscule_stress_impact_loss
		}
	}
	after = {
		dharma_set_up_next_buddhist_retreat_event_effect = { DAYS = 30 }
	}
}
dharma_buddhism.126 = {# Calmness and self-control
	type = character_event
	title = dharma_buddhism.126.t
	desc = dharma_buddhism.126.desc
	theme = faith
	override_background = {
		event_background = cliff_temple
	}
	left_portrait = {
		character = root
		animation = personality_rational
	}

	trigger = {
		exists = scope:activity
		NOT = {
			exists = scope:activity.var:had_dharma_buddhism_126
		}
	}

	immediate = {
		scope:activity = {
			set_variable = {
				name = had_dharma_buddhism_126
				value = yes
			}
		}
		random_list = {
			15 = {
				change_variable = {
					name = dharma_buddhist_retreat_outcome_counter
					add = 1
				}
			}
			85 = {# Rare to improve your chances

			}
		}
	}

	option = {
		name = dharma_buddhism.126.a
		random_list = {
			5 = {
				if = {
					limit = { has_trait = wrathful }
					remove_trait = wrathful
				}
				add_trait = calm
			}
			95 = {
				add_piety = miniscule_piety_gain
			}
		}
		stress_impact = {
			base = miniscule_stress_impact_gain
			calm = minor_stress_impact_loss
			wrathful = minor_stress_impact_gain
		}
	}
	option = {
		name = dharma_buddhism.126.b
		add_piety = miniscule_piety_loss
		stress_impact = {
			base = miniscule_stress_impact_loss
			calm = minor_stress_impact_gain
			wrathful = minor_stress_impact_loss
		}
	}
	after = {
		dharma_set_up_next_buddhist_retreat_event_effect = { DAYS = 30 }
	}
}
dharma_buddhism.127 = {# Meditating on Food
	type = character_event
	title = dharma_buddhism.127.t
	desc = dharma_buddhism.127.desc
	theme = faith
	override_background = {
		event_background = cliff_temple
	}
	left_portrait = {
		character = root
		animation = personality_rational
	}
	trigger = {
		exists = scope:activity
		NOT = {
			exists = scope:activity.var:had_dharma_buddhism_127
		}
	}

	immediate = {
		scope:activity = {
			set_variable = {
				name = had_dharma_buddhism_127
				value = yes
			}
		}
		random_list = {
			15 = {
				change_variable = {
					name = dharma_buddhist_retreat_outcome_counter
					add = 1
				}
			}
			85 = {# Rare to improve your chances

			}
		}
	}

	option = {
		name = dharma_buddhism.127.a
		add_piety = miniscule_piety_gain
		stress_impact = {
			base = miniscule_stress_impact_loss
		}
	}
	after = {
		dharma_set_up_next_buddhist_retreat_event_effect = { DAYS = 30 }
	}
}
dharma_buddhism.128 = {# An insect
	type = character_event
	title = dharma_buddhism.128.t
	desc = dharma_buddhism.128.desc
	theme = faith
	override_background = {
		event_background = cliff_temple
	}
	left_portrait = {
		character = root
		animation = personality_rational
	}

	trigger = {
		exists = scope:activity
		NOT = {
			exists = scope:activity.var:had_dharma_buddhism_128
		}
	}

	immediate = {
		scope:activity = {
			set_variable = {
				name = had_dharma_buddhism_128
				value = yes
			}
		}
		random_list = {
			15 = {
				change_variable = {
					name = dharma_buddhist_retreat_outcome_counter
					add = 1
				}
			}
			85 = {# Rare to improve your chances

			}
		}
	}

	option = {
		name = dharma_buddhism.128.a
		add_piety = miniscule_piety_gain
		random_list = {
			5 = {
				if = {
					limit = { has_trait = callous }
					remove_trait = callous
				}
				if = {
					limit = { has_trait = sadistic }
					remove_trait = sadistic
				}
				add_trait = compassionate
			}
			95 = {
				add_piety = miniscule_piety_gain
			}
		}
		stress_impact = {
			base = miniscule_stress_impact_loss
		}
	}
	after = {
		dharma_set_up_next_buddhist_retreat_event_effect = { DAYS = 30 }
	}
}
dharma_buddhism.129 = {# Lotus Position
	type = character_event
	title = dharma_buddhism.129.t
	desc = dharma_buddhism.129.desc
	theme = faith
	override_background = {
		event_background = cliff_temple
	}
	left_portrait = {
		character = root
		animation = personality_rational
	}

	trigger = {
		exists = scope:activity
		NOT = {
			exists = scope:activity.var:had_dharma_buddhism_129
		}
	}

	immediate = {
		scope:activity = {
			set_variable = {
				name = had_dharma_buddhism_129
				value = yes
			}
		}
		random_list = {
			15 = {
				change_variable = {
					name = dharma_buddhist_retreat_outcome_counter
					add = 1
				}
			}
			85 = {# Rare to improve your chances

			}
		}
	}

	option = {
		name = dharma_buddhism.129.a
		add_piety = miniscule_piety_gain
		stress_impact = {
			base = miniscule_stress_impact_loss
		}
	}
	after = {
		dharma_set_up_next_buddhist_retreat_event_effect = { DAYS = 30 }
	}
}
#######################################
# Meditation Retreat Ending Events
#######################################
dharma_buddhism.130 = {# Departing the Monastary for home
	type = character_event
	title = dharma_buddhism.130.t
	desc = dharma_buddhism.130.desc
	theme = faith
	override_background = {
		event_background = throne_room
	}
	left_portrait = root

	immediate = {
		if = {
			limit = {
				var:dharma_buddhist_retreat_outcome_counter = {
					compare_value <= 9
				}
			}
			add_character_flag = buddhist_retreat_mystic
		}
		else_if = {
			limit = {
				var:dharma_buddhist_retreat_outcome_counter = {
					compare_value <= 6
				}
			}
			add_character_flag = buddhist_retreat_better_person
		}
		else_if = {
			limit = {
				var:dharma_buddhist_retreat_outcome_counter = {
					compare_value <= 3
				}
			}
			add_character_flag = buddhist_retreat_pious
		}
	}	

	option = {
		trigger = {	has_character_flag = buddhist_retreat_better_person	}
		name = dharma_buddhism.130.better
		add_stress = minor_stress_loss
		improve_meditation_skill = yes
		random_list = {
			10 = {
				trigger = {	has_trait = gluttonous }
				remove_trait = gluttonous
				add_trait_force_tooltip = temperate
			}
			10 = {
				trigger = {	has_trait = greedy }
				remove_trait = greedy
				add_trait_force_tooltip = generous
			}
			10 = {
				trigger = {	has_trait = ambitious }
				remove_trait = ambitious
				add_trait_force_tooltip = content
			}
			10 = {
				trigger = {	has_trait = lustful }
				remove_trait = lustful
				add_trait_force_tooltip = chaste
			}
			10 = {
				trigger = {	has_trait = deceitful }
				remove_trait = deceitful
				add_trait_force_tooltip = honest
			}
			10 = {
				trigger = {	has_trait = sadistic }
				remove_trait = sadistic
				add_trait_force_tooltip = callous
			}
			10 = {
				trigger = {	has_trait = impatient }
				remove_trait = impatient
				add_trait_force_tooltip = patient
			}
		}
	}
	option = {
		trigger = {	 has_character_flag = buddhist_retreat_mystic }
		name = dharma_buddhism.130.mystic
		random_list = {
			5 = {
				add_trait = mystic_3
			}
			10 = {
				add_trait = mystic_2
			}
			15 = {
				add_trait = mystic_1
			}
		}
		improve_meditation_skill = yes
	}
	option = {
		trigger = {	has_character_flag = buddhist_retreat_pious	}
		name = dharma_buddhism.130.pious
		add_piety = major_piety_value
		improve_meditation_skill = yes
	}
	option = {
		trigger = {	
			NOT = {
				has_character_flag = buddhist_retreat_better_person	
				has_character_flag = buddhist_retreat_mystic	
				has_character_flag = buddhist_retreat_pious	
			}
		}

		name = dharma_buddhism.130.nothing
		add_stress = medium_stress_loss
		improve_meditation_skill = yes
	}


	after = {
		# Run the activity clean-up event.
		trigger_event = {
			id = dharma_buddhism.131
			days = 1
		}
	}
}
dharma_buddhism.131 = {# End meditation
	hidden = yes
	
	immediate = {
		scope:activity = {
			complete_activity = yes
		}
		# Remove character
		remove_character_flag = meditation_secret
		remove_character_flag = meditation_impatient
		remove_character_flag = meditation_epiphany
		remove_character_flag = meditation_fugue
		remove_character_flag = meditation_reflection
		remove_character_flag = meditation_major_stress_loss
		remove_character_flag = meditation_medium_stress_loss
		remove_character_flag = buddhist_retreat_better_person
		remove_character_flag = buddhist_retreat_mystic
		remove_character_flag = buddhist_retreat_pious
		remove_character_flag = buddhist_retreat_nothing
	}
}
#######################################
#									  #
#      Picking Buddhist Deities       #
#									  #
#######################################
dharma_buddhism.200 = {# Tibetan Buddhist Deities
	type = character_event
	title = dharma_buddhism.200.t
	desc = dharma_buddhism.200.desc
	theme = faith
	override_background = {
		event_background = tibetan_temple
	}
	left_portrait = {
		character = root
		animation = personality_rational
	}

	# Bon Deities
	option = {# Sipe Gyalmo
		name = dharma_buddhism.200.gyalmo
		trigger = {
			religion = religion:bon_religion
			NOT = { has_character_modifier = buddhist_deity_sipe_gyalmo }
		}
		set_yidam_effect = { YIDAM = buddhist_deity_sipe_gyalmo }
	}

	option = {# Shenlha Okar
		name = dharma_buddhism.200.shenlha
		trigger = {
			religion = religion:bon_religion
			NOT = { has_character_modifier = buddhist_deity_shenlha_okar }
		}
		set_yidam_effect = { YIDAM = buddhist_deity_shenlha_okar }
	}

	option = { # Tonpa Shenrab 
		name = dharma_buddhism.200.shenrab
		trigger = {
			religion = religion:bon_religion
			NOT = { has_character_modifier = buddhist_deity_tonpa_shenrab }
		}
		set_yidam_effect = { YIDAM = buddhist_deity_tonpa_shenrab }
	}

	option = {# Yeshe Walmo
		name = dharma_buddhism.200.yeshe
		trigger = {
			religion = religion:bon_religion
			NOT = { has_character_modifier = buddhist_deity_yeshe_walmo }
		}
		set_yidam_effect = { YIDAM = buddhist_deity_yeshe_walmo }
	}

	option = {# ZhangZhung Meri
		name = dharma_buddhism.200.takla
		trigger = {
			religion = religion:bon_religion
			NOT = { has_character_modifier = buddhist_deity_takla_mebar }
		}
		set_yidam_effect = { YIDAM = buddhist_deity_takla_mebar }
	}

	option = {# Zhambala
		name = dharma_buddhism.200.zhambala
		trigger = {
			religion = religion:bon_religion
			NOT = { has_character_modifier = buddhist_deity_Zhambala }
		}
		set_yidam_effect = { YIDAM = buddhist_deity_Zhambala }
	}

	option = {# Sherab Chamma
		name = dharma_buddhism.200.chamma
		trigger = {
			religion = religion:bon_religion
			NOT = { has_character_modifier = buddhist_deity_sherab_chamma }
		}
		set_yidam_effect = { YIDAM = buddhist_deity_sherab_chamma }
	}

	# Nang Chos Deities
	option = {# Palden Lhamo
		name = dharma_buddhism.200.palden
		trigger = {
			faith = faith:lamaism
			NOT = { has_character_modifier = buddhist_deity_palden_lhamo }
		}
		set_yidam_effect = { YIDAM = buddhist_deity_palden_lhamo }
	}

	option = {# Tara
		name = dharma_buddhism.200.tara
		trigger = {
			faith = faith:lamaism
			NOT = { has_character_modifier = buddhist_deity_tara }
		}
		set_yidam_effect = { YIDAM = buddhist_deity_tara }
	}

	option = {# Avalokiteśvara
		name = dharma_buddhism.200.avalokitesvara
		trigger = {
			faith = faith:lamaism
			NOT = { has_character_modifier = buddhist_deity_avalokitesvara }
		}
		set_yidam_effect = { YIDAM = buddhist_deity_avalokitesvara }
	}

	option = {# Yamantaka
		name = dharma_buddhism.200.yamantaka
		trigger = {
			faith = faith:lamaism
			NOT = { has_character_modifier = buddhist_deity_yamantaka }
		}
		set_yidam_effect = { YIDAM = buddhist_deity_yamantaka }
	}

	option = {# Hevajra
		name = dharma_buddhism.200.hevajra
		trigger = {
			faith = faith:lamaism
			NOT = { has_character_modifier = buddhist_deity_hevajra }
		}
		set_yidam_effect = { YIDAM = buddhist_deity_hevajra }
	}

	option = {# Vajrayogini
		name = dharma_buddhism.200.vajrayogini
		trigger = {
			faith = faith:lamaism
			NOT = { has_character_modifier = buddhist_deity_vajrayogini }
		}
		set_yidam_effect = { YIDAM = buddhist_deity_vajrayogini }
	}

	# Opt-Out
	option = {
		name = dharma_buddhism.200.optout
		ai_chance = {
			base = 0
		}		
	}
}
dharma_buddhism.201 = {# Burmese Buddhist Deities
	type = character_event
	title = dharma_buddhism.201.t
	desc = dharma_buddhism.201.desc
	theme = faith
	override_background = {
		event_background = wood_temple
	}
	left_portrait = {
		character = root
		animation = personality_rational
	}

	# Ari Deities
	option = {# Thagyamin
		name = dharma_buddhism.201.thagyamin
		trigger = {
			faith = faith:ari
			NOT = { has_character_modifier = nat_ari_thagyamin }
		}
		set_nat_effect = { NAT = nat_ari_thagyamin }
	}

	option = {# Mahagiri
		name = dharma_buddhism.201.mahagiri
		trigger = {
			faith = faith:ari
			NOT = { has_character_modifier = nat_ari_mahagiri }
		}
		set_nat_effect = { NAT = nat_ari_mahagiri }
	}

	option = { # Hnamadawgyi
		name = dharma_buddhism.201.hnamadawgyi
		trigger = {
			faith = faith:ari
			NOT = { has_character_modifier = nat_ari_hnamadawgyi }
		}
		set_nat_effect = { NAT = nat_ari_hnamadawgyi }
	}

	option = {# Ponmagyi
		name = dharma_buddhism.201.ponmagyi
		trigger = {
			faith = faith:ari
			NOT = { has_character_modifier = nat_ari_ponmagyi }
		}
		set_nat_effect = { NAT = nat_ari_ponmagyi }
	}

	option = {# Sīvali
		name = dharma_buddhism.201.sivalia
		trigger = {
			OR = {
				faith = faith:ari
				faith = faith:theravada
			}
			NOT = { has_character_modifier = nat_ari_sivali }
		}
		set_nat_effect = { NAT = nat_ari_sivali }
	}

	option = {# Shwe Nabay
		name = dharma_buddhism.201.nabay
		trigger = {
			faith = faith:ari
			NOT = { has_character_modifier = nat_ari_shwe_nabay }
		}
		set_nat_effect = { NAT = nat_ari_shwe_nabay }
	}

	# Burmese Therevada Deities
	option = {# Thurathadi
		name = dharma_buddhism.201.thurathadi
		trigger = {
			faith = faith:theravada
			NOT = { has_character_modifier = nat_therevada_thurathadi }
		}
		set_nat_effect = { NAT = nat_therevada_thurathadi }
	}

	option = {# Lokanat
		name = dharma_buddhism.201.lokanat
		trigger = {
			faith = faith:theravada
			NOT = { has_character_modifier = nat_therevada_lokanat }
		}
		set_nat_effect = { NAT = nat_therevada_lokanat }
	}

	option = {# Panhtwar
		name = dharma_buddhism.201.panhtwar
		trigger = {
			faith = faith:theravada
			NOT = { has_character_modifier = nat_therevada_panhtwar }
		}
		set_nat_effect = { NAT = nat_therevada_panhtwar }
	}

	option = {# Shin Upagutta
		name = dharma_buddhism.201.shin
		trigger = {
			faith = faith:theravada
			NOT = { has_character_modifier = nat_therevada_shin_upagutta }
		}
		set_nat_effect = { NAT = nat_therevada_shin_upagutta }
	}

	option = {# Manimekhala
		name = dharma_buddhism.201.manimekhala
		trigger = {
			faith = faith:theravada
			NOT = { has_character_modifier = nat_therevada_manimekhala }
		}
		set_nat_effect = { NAT = nat_therevada_manimekhala }
	}

	# Opt-Out
	option = {
		name = dharma_buddhism.201.optout
		ai_chance = {
			base = 0
		}		
	}
}
dharma_buddhism.202 = {# Mahayana Boddhisattvas
	type = character_event
	title = dharma_buddhism.202.t
	desc = dharma_buddhism.202.desc
	theme = faith
	override_background = {
		event_background = tibetan_temple
	}
	left_portrait = {
		character = root
		animation = personality_rational
	}

	# East Asian Mahayana
	option = {# Guanyin
		name = dharma_buddhism.202.guanyin
		trigger = {
			faith = faith:mahayana
			NOT = {
				culture_group = culture_group:indo_aryan_group
				culture_group = culture_group:dravidian_group
			}
			NOT = { has_character_modifier = buddhist_deity_guanyin }
		}
		set_yidam_effect = { YIDAM = buddhist_deity_guanyin }
	}
	option = {# Mahasthamaprapta
		name = dharma_buddhism.202.mahasthamaprapta
		trigger = {
			faith = faith:mahayana
			NOT = {
				culture_group = culture_group:indo_aryan_group
				culture_group = culture_group:dravidian_group
			}
			NOT = { has_character_modifier = buddhist_deity_mahasthamaprapta }
		}
		set_yidam_effect = { YIDAM = buddhist_deity_mahasthamaprapta }
	}
	option = {# Ksitigarbha
		name = dharma_buddhism.202.ksitigarbha
		trigger = {
			faith = faith:mahayana
			NOT = {
				culture_group = culture_group:indo_aryan_group
				culture_group = culture_group:dravidian_group
			}
			NOT = { has_character_modifier = buddhist_deity_ksitigarbha }
		}
		set_yidam_effect = { YIDAM = buddhist_deity_ksitigarbha }
	}
	option = {# Bhaisajyaguru
		name = dharma_buddhism.202.bhaisajyaguru
		trigger = {
			OR = { 
				faith = faith:mahayana
				AND = {
					faith = faith:vajrayana
					NOT = {
						culture_group = culture_group:indo_aryan_group
						culture_group = culture_group:dravidian_group
					}
				}
			}
			NOT = { has_character_modifier = buddhist_deity_bhaisajyaguru }
		}
		set_yidam_effect = { YIDAM = buddhist_deity_bhaisajyaguru }
	}	
	# Indian Mahayana
	option = {# Vasudhara
		name = dharma_buddhism.202.vasudhara
		trigger = {
			AND = {
				faith = faith:mahayana
				OR = {
					culture_group = culture_group:indo_aryan_group
					culture_group = culture_group:dravidian_group
				}
			}
			NOT = { has_character_modifier = buddhist_deity_vasudhara }
		}
		set_yidam_effect = { YIDAM = buddhist_deity_vasudhara }
	}
	option = {# Vajrapani
		name = dharma_buddhism.202.vajrapani
		trigger = {
			OR = {
				faith = faith:vajrayana
				AND = {
					faith = faith:mahayana
					OR = {
						culture_group = culture_group:indo_aryan_group
						culture_group = culture_group:dravidian_group
					}
				}
			}
			NOT = { has_character_modifier = buddhist_deity_vajrapani }
		}
		set_yidam_effect = { YIDAM = buddhist_deity_vajrapani }
	}
	option = {# Manjushri
		name = dharma_buddhism.202.manjushri
		trigger = {
			OR = {
				faith = faith:vajrayana
				AND = {
					faith = faith:mahayana
					OR = {
						culture_group = culture_group:indo_aryan_group
						culture_group = culture_group:dravidian_group
					}
				}
			}
			NOT = { has_character_modifier = buddhist_deity_manjushri }
		}
		set_yidam_effect = { YIDAM = buddhist_deity_manjushri }
	}
	option = {# Samantabhadra
		name = dharma_buddhism.202.samantabhadra
		trigger = {
			AND = {
				faith = faith:mahayana
				OR = {
					culture_group = culture_group:indo_aryan_group
					culture_group = culture_group:dravidian_group
				}
			}
			NOT = { has_character_modifier = buddhist_deity_samantabhadra }
		}
		set_yidam_effect = { YIDAM = buddhist_deity_samantabhadra }
	}
	# Vajarayana Deities
	option = {# Tara
		name = dharma_buddhism.202.tara
		trigger = {
			faith = faith:vajrayana
			NOT = { has_character_modifier = buddhist_deity_tara }
		}
		set_yidam_effect = { YIDAM = buddhist_deity_tara }
	}
	option = {# Avalokiteśvara
		name = dharma_buddhism.202.avalokitesvara
		trigger = {
			faith = faith:vajrayana
			NOT = { has_character_modifier = buddhist_deity_avalokitesvara }
		}
		set_yidam_effect = { YIDAM = buddhist_deity_avalokitesvara }
	}
	option = {# Ratnasambhava
		name = dharma_buddhism.202.Ratnasambhava
		trigger = {
			faith = faith:vajrayana
			NOT = { has_character_modifier = buddhist_deity_ratnasambhava }
		}
		set_yidam_effect = { YIDAM = buddhist_deity_ratnasambhava }
	}
	# Opt-Out
	option = {
		name = dharma_buddhism.200.optout
		ai_chance = {
			base = 0
		}		
	}
}
#######################################
# Visiting Nalanda
#######################################
dharma_buddhism.300 = {# Decide to Visit Nalanda
	type = character_event
	title = dharma_buddhism.300.t
	desc = dharma_buddhism.300.desc
	theme = faith
	override_background = {
		event_background = throne_room
	}
	left_portrait = {
		character = root
		animation = personality_rational
	}	
	
	immediate = {
		title:b_pataliputra = { save_scope_as = nalanda_location }
		# Stop characters from planning multiple activities at once.
		add_character_flag = planning_an_activity
	}

	option = {# I shall stay
		name = dharma_buddhism.300.stay
		hidden_effect = {
			remove_decision_cooldown = dharma_learning_visit_cooldown_time
			remove_character_flag = planning_an_activity
		}
	}
	option = {# I shall go
		name = dharma_buddhism.300.go
		scope:nalanda_location = {
			title_province = {	
				spawn_activity = {
					owner = root
					type = activity_dharma_visit_nalanda
				}	
			}
		}
	}
}
dharma_buddhism.301 = {# Arriving at Nalanda
	type = character_event
	title = dharma_buddhism.301.t
	desc = dharma_buddhism.301.desc
	theme = faith
	override_background = {
		event_background = forest_temple
	}
	left_portrait = {
		character = root
		animation = personality_rational
	}	

	option = {
		name = dharma_buddhism.301.arival
		add_piety = miniscule_piety_value
	}
	after = {
		dharma_set_up_next_nalanda_event_effect = { DAYS = 10 }
	}
}
# Random Nalanda Events
dharma_buddhism.302 = {# Visiting the Library
	type = character_event
	title = dharma_buddhism.302.t
	desc = dharma_buddhism.302.desc
	theme = faith
	override_background = {
		event_background = dharma_temple_interior
	}
	left_portrait = {
		character = root
		animation = personality_rational
	}
	
	trigger = {
		exists = scope:activity
		NOT = {
			exists = scope:activity.var:had_dharma_buddhism_302
		}
	}

	immediate = {
		scope:activity = {
			set_variable = {
				name = had_dharma_buddhism_302
				value = yes
			}
		}
	}

	option = {# Buddhist Texts
		name = dharma_buddhism.302.buddhist
		if = {# Better Person
			limit = { religion = religion:buddhism_religion }
			add_piety = miniscule_piety_gain
			add_character_modifier = {
				modifier = nalanda_learning_books
				months = 4
			}
		}
		else = {
			add_character_modifier = {
				modifier = nalanda_learning_books
				months = 4
			}
		}
	}
	option = {# Hindu Texts
		name = dharma_buddhism.302.hindu
		if = {# Better Person
			limit = { religion = religion:hinduism_religion }
			add_piety = miniscule_piety_gain
			add_character_modifier = {
				modifier = nalanda_learning_books
				months = 4
			}
		}
		else = {
			add_character_modifier = {
				modifier = nalanda_learning_books
				months = 4
			}
		}
	}
	option = {# Jain Texts
		name = dharma_buddhism.302.jain
		if = {# Better Person
			limit = { religion = religion:jainism_religion }
			add_piety = miniscule_piety_gain
			add_character_modifier = {
				modifier = nalanda_learning_books
				months = 4
			}
		}
		else = {
			add_character_modifier = {
				modifier = nalanda_learning_books
				months = 4
			}
		}
	}
	option = {# Medical Texts
		name = dharma_buddhism.302.medical
		add_character_modifier = {
			modifier = nalanda_learning_medicine
			months = 4
		}
	}
	option = {# Astrology Texts
		name = dharma_buddhism.302.astrology
		add_character_modifier = {
			modifier = nalanda_learning_astrology
			months = 4
		}
	}
	after = {
		dharma_set_up_next_nalanda_event_effect = { DAYS = 10 }
	}
}
dharma_buddhism.303 = {# Meditating with the Monks
	type = character_event
	title = dharma_buddhism.303.t
	desc = dharma_buddhism.303.desc
	theme = faith
	override_background = {
		event_background = forest_temple
	}
	left_portrait = {
		character = root
		animation = personality_rational
	}	

	trigger = {
		exists = scope:activity
		NOT = {
			exists = scope:activity.var:had_dharma_buddhism_303
		}
	}

	immediate = {
		scope:activity = {
			set_variable = {
				name = had_dharma_buddhism_303
				value = yes
			}
		}
	}

	option = {
		name = dharma_buddhism.303.energy
		stress_impact = {
			base = miniscule_stress_impact_loss
		}
	}
	after = {
		dharma_set_up_next_nalanda_event_effect = { DAYS = 10 }
	}
}
dharma_buddhism.304 = {# Vegetarian v non-vegetiarian
	type = character_event
	title = dharma_buddhism.304.t
	desc = dharma_buddhism.304.desc
	theme = faith
	override_background = {
		event_background = forest_temple
	}
	left_portrait = {
		character = root
		animation = personality_rational
	}
	
	trigger = {
		exists = scope:activity
		NOT = {
			exists = scope:activity.var:had_dharma_buddhism_304
		}
	}

	immediate = {
		scope:activity = {
			set_variable = {
				name = had_dharma_buddhism_304
				value = yes
			}
		}
	}

	option = {# Side with the Non Vegetarian Monk
		name = dharma_buddhism.304.meat
		add_prestige = minor_prestige_gain
	}
	option = {# Side with the Vegetarian Monk
		name = dharma_buddhism.304.vegetarian
		add_piety = minor_piety_gain
	}
	after = {
		dharma_set_up_next_nalanda_event_effect = { DAYS = 10 }
	}
}
dharma_buddhism.305 = {# Cosmopolitan Experince
	type = character_event
	title = dharma_buddhism.305.t
	desc = dharma_buddhism.305.desc
	theme = faith
	override_background = {
		event_background = india_shrine
	}
	left_portrait = {
		character = root
		animation = personality_rational
	}	

	trigger = {
		exists = scope:activity
		NOT = {
			exists = scope:activity.var:had_dharma_buddhism_305
		}
	}

	immediate = {
		scope:activity = {
			set_variable = {
				name = had_dharma_buddhism_305
				value = yes
			}
		}
	}

	option = {# Side with the Non Vegetarian Monk
		name = dharma_buddhism.305.people
		random_list = {
			33 = {
				add_learning_lifestyle_xp = medium_lifestyle_xp
			}
			33 = {
				add_trait = gregarious
			}
			33 = {
				add_diplomacy_skill = 1
			}
		}
		stress_impact = {
			base = miniscule_stress_impact_loss
			shy = minor_stress_impact_gain
		}
	}

	after = {
		dharma_set_up_next_nalanda_event_effect = { DAYS = 10 }
	}
}
dharma_buddhism.306 = {# Theological Debate
	type = character_event
	title = dharma_buddhism.306.t
	desc = dharma_buddhism.306.desc
	theme = faith
	override_background = {
		event_background = india_shrine
	}
	left_portrait = {
		character = root
		animation = personality_rational
	}	

	trigger = {
		exists = scope:activity
		NOT = {
			exists = scope:activity.var:had_dharma_buddhism_306
		}
	}

	immediate = {
		scope:activity = {
			set_variable = {
				name = had_dharma_buddhism_306
				value = yes
			}
		}
	}

	option = {# Mahayana
		name = dharma_buddhism.306.mahayana
		trigger = {
			NOT = {
				has_faith = faith:theravada
				has_faith = faith:vajrayana
				has_faith = faith:ari
				has_faith = faith:lamaism
				has_faith = faith:pudgalavada
			}
		}
		duel = {
			skill = learning
			value = very_high_skill_rating
			15 = {
				desc = dharma_buddhism.306.mahayana.success
				compare_modifier = {
					value = scope:duel_value
					multiplier = 0.5
					min = -14
				}
				send_interface_toast = {
					title = dharma_buddhism.306.mahayana.success_title
					left_icon = root
					add_prestige = minor_prestige_gain
				}
			}
			25 = {
				desc = dharma_buddhism.306.mahayana.failure
				compare_modifier = {
					value = scope:duel_value
					multiplier = -0.5
					min = -9
				}
				send_interface_toast = {
					title = dharma_buddhism.306.mahayana.failure_title
					left_icon = root
					add_prestige = minor_prestige_loss
				}
			}
		}
		stress_impact = {
			scholar = minor_stress_impact_loss
			theologian = minor_stress_impact_loss
			mystic_1 = minor_stress_impact_loss
			mystic_2 = minor_stress_impact_loss
			mystic_3 = minor_stress_impact_loss
			arrogant = minor_stress_impact_loss
			shy = minor_stress_impact_gain
			humble = minor_stress_impact_gain
		}
	}
	option = {# Theravada
		name = dharma_buddhism.306.theravada
		trigger = {
			NOT = {
				has_faith = faith:mahayana
				has_faith = faith:vajrayana
				has_faith = faith:ari
				has_faith = faith:lamaism
				has_faith = faith:pudgalavada
			}
		}
		duel = {
			skill = learning
			value = very_high_skill_rating
			15 = {
				desc = dharma_buddhism.306.theravada.success
				compare_modifier = {
					value = scope:duel_value
					multiplier = 0.5
					min = -14
				}
				send_interface_toast = {
					title = dharma_buddhism.306.theravada.success_title
					left_icon = root
					add_prestige = minor_prestige_gain
				}
			}
			25 = {
				desc = dharma_buddhism.306.theravada.failure
				compare_modifier = {
					value = scope:duel_value
					multiplier = -0.5
					min = -9
				}
				send_interface_toast = {
					title = dharma_buddhism.306.theravada.failure_title
					left_icon = root
					add_prestige = minor_prestige_loss
				}
			}
		}
		stress_impact = {
			scholar = minor_stress_impact_loss
			theologian = minor_stress_impact_loss
			mystic_1 = minor_stress_impact_loss
			mystic_2 = minor_stress_impact_loss
			mystic_3 = minor_stress_impact_loss
			arrogant = minor_stress_impact_loss
			shy = minor_stress_impact_gain
			humble = minor_stress_impact_gain
		}
	}	
	option = {# Vajrayana
		name = dharma_buddhism.306.vajrayana
		trigger = {
			NOT = {
				has_faith = faith:theravada
				has_faith = faith:mahayana
				has_faith = faith:ari
				has_faith = faith:lamaism
				has_faith = faith:pudgalavada
			}
		}
		duel = {
			skill = learning
			value = very_high_skill_rating
			15 = {
				desc = dharma_buddhism.306.vajrayana.success
				compare_modifier = {
					value = scope:duel_value
					multiplier = 0.5
					min = -14
				}
				send_interface_toast = {
					title = dharma_buddhism.306.vajrayana.success_title
					left_icon = root
					add_prestige = minor_prestige_gain
				}
			}
			25 = {
				desc = dharma_buddhism.306.vajrayana.failure
				compare_modifier = {
					value = scope:duel_value
					multiplier = -0.5
					min = -9
				}
				send_interface_toast = {
					title = dharma_buddhism.306.vajrayana.failure_title
					left_icon = root
					add_prestige = minor_prestige_loss
				}
			}
		}
		stress_impact = {
			scholar = minor_stress_impact_loss
			theologian = minor_stress_impact_loss
			mystic_1 = minor_stress_impact_loss
			mystic_2 = minor_stress_impact_loss
			mystic_3 = minor_stress_impact_loss
			arrogant = minor_stress_impact_loss
			shy = minor_stress_impact_gain
			humble = minor_stress_impact_gain
		}
	}
	option = {# Pudgalavada
		name = dharma_buddhism.306.pudgalavada
		trigger = {
			NOT = {
				has_faith = faith:theravada
				has_faith = faith:vajrayana
				has_faith = faith:ari
				has_faith = faith:lamaism
				has_faith = faith:mahayana
			}
		}
		duel = {
			skill = learning
			value = very_high_skill_rating
			15 = {
				desc = dharma_buddhism.306.pudgalavada.success
				compare_modifier = {
					value = scope:duel_value
					multiplier = 0.5
					min = -14
				}
				send_interface_toast = {
					title = dharma_buddhism.306.pudgalavada.success_title
					left_icon = root
					add_prestige = minor_prestige_gain
				}
			}
			25 = {
				desc = dharma_buddhism.306.pudgalavada.failure
				compare_modifier = {
					value = scope:duel_value
					multiplier = -0.5
					min = -9
				}
				send_interface_toast = {
					title = dharma_buddhism.306.pudgalavada.failure_title
					left_icon = root
					add_prestige = minor_prestige_loss
				}
			}
		}
		stress_impact = {
			base = miniscule_stress_impact_loss
			diligent = miniscule_stress_impact_loss
		}
	}
	option = {# Nang Chos
		name = dharma_buddhism.306.tibetan
		trigger = {
			NOT = {
				has_faith = faith:theravada
				has_faith = faith:vajrayana
				has_faith = faith:ari
				has_faith = faith:mahayana
				has_faith = faith:pudgalavada
			}
		}
		duel = {
			skill = learning
			value = very_high_skill_rating
			15 = {
				desc = dharma_buddhism.306.tibetan.success
				compare_modifier = {
					value = scope:duel_value
					multiplier = 0.5
					min = -14
				}
				send_interface_toast = {
					title = dharma_buddhism.306.tibetan.success_title
					left_icon = root
					add_prestige = minor_prestige_gain
				}
			}
			25 = {
				desc = dharma_buddhism.306.tibetan.failure
				compare_modifier = {
					value = scope:duel_value
					multiplier = -0.5
					min = -9
				}
				send_interface_toast = {
					title = dharma_buddhism.306.tibetan.failure_title
					left_icon = root
					add_prestige = minor_prestige_loss
				}
			}
		}
		stress_impact = {
			scholar = minor_stress_impact_loss
			theologian = minor_stress_impact_loss
			mystic_1 = minor_stress_impact_loss
			mystic_2 = minor_stress_impact_loss
			mystic_3 = minor_stress_impact_loss
			arrogant = minor_stress_impact_loss
			shy = minor_stress_impact_gain
			humble = minor_stress_impact_gain
		}
	}
	option = {# Ari
		name = dharma_buddhism.306.burman
		trigger = {
			NOT = {
				has_faith = faith:theravada
				has_faith = faith:vajrayana
				has_faith = faith:mahayana
				has_faith = faith:lamaism
				has_faith = faith:pudgalavada
			}
		}
		duel = {
			skill = learning
			value = very_high_skill_rating
			15 = {
				desc = dharma_buddhism.306.burman.success
				compare_modifier = {
					value = scope:duel_value
					multiplier = 0.5
					min = -14
				}
				send_interface_toast = {
					title = dharma_buddhism.306.burman.success_title
					left_icon = root
					add_prestige = minor_prestige_gain
				}
			}
			25 = {
				desc = dharma_buddhism.306.burman.failure
				compare_modifier = {
					value = scope:duel_value
					multiplier = -0.5
					min = -9
				}
				send_interface_toast = {
					title = dharma_buddhism.306.burman.failure_title
					left_icon = root
					add_prestige = minor_prestige_loss
				}
			}
		}
		stress_impact = {
			scholar = minor_stress_impact_loss
			theologian = minor_stress_impact_loss
			mystic_1 = minor_stress_impact_loss
			mystic_2 = minor_stress_impact_loss
			mystic_3 = minor_stress_impact_loss
			arrogant = minor_stress_impact_loss
			shy = minor_stress_impact_gain
			humble = minor_stress_impact_gain
		}
	}
	option = {# Stay
		name = dharma_buddhism.306.observe

		stress_impact = {
			scholar = minor_stress_impact_gain
			theologian = minor_stress_impact_gain
			mystic_1 = minor_stress_impact_gain
			mystic_2 = minor_stress_impact_gain
			mystic_3 = minor_stress_impact_gain
			arrogant = minor_stress_impact_gain
			shy = minor_stress_impact_loss
			humble = minor_stress_impact_loss
		}
	}
	after = {
		dharma_set_up_next_nalanda_event_effect = { DAYS = 10 }
	}
}
dharma_buddhism.307 = {# Mystical learning
	type = character_event
	title = dharma_buddhism.307.t
	desc = dharma_buddhism.307.desc
	theme = faith
	override_background = {
		event_background = dharma_temple_interior
	}
	left_portrait = {
		character = root
		animation = personality_rational
	}	

	trigger = {
		exists = scope:activity
		NOT = {
			exists = scope:activity.var:had_dharma_buddhism_307
		}
	}

	immediate = {
		scope:activity = {
			set_variable = {
				name = had_dharma_buddhism_307
				value = yes
			}
		}
		play_music_cue = "mx_cue_combat_stinger"
		hidden_effect = {
			if = {
				limit = {
					NOT = { has_trait = mystic_3 }
				}
				random = {
					chance = 05
					save_scope_value_as = {
						name = increase_mystic
						value = yes
					}
				}
			}
		}
	}

	option = {# hmm, what can I learn. 
		name = dharma_buddhism.307.mystic
		duel = {
			skill = learning
			value = very_high_skill_rating
			10 = {
				desc = dharma_buddhism.307.mystic.success
				compare_modifier = {
					value = scope:duel_value
					multiplier = 0.5
					min = -14
				}
				send_interface_toast = {
					title = dharma_buddhism.307.mystic.success_title
					left_icon = root
					add_prestige = minor_prestige_gain
					if = {
						limit = { exists = scope:increase_mystic }
						change_trait_rank = {
							trait = lifestyle_mystic
							rank = 1
						}
					}
				}
			}
			15 = {
				desc = dharma_buddhism.307.mystic.failure
				compare_modifier = {
					value = scope:duel_value
					multiplier = -0.5
					min = -9
				}
				send_interface_toast = {
					title = dharma_buddhism.307.mystic.failure_title
					left_icon = root
				}
			}
		}
	}
	option = {# Stay
		name = dharma_buddhism.307.study
		add_character_modifier = {
			modifier = focused_student
			months = 4
		}
	}	

	after = {
		if = {
			limit = { exists = scope:increase_mystic }
			clear_saved_scope = increase_mystic
		}
		dharma_set_up_next_nalanda_event_effect = { DAYS = 10 }
	}
}
dharma_buddhism.310 = {# Medical learning
	type = character_event
	title = dharma_buddhism.310.t
	desc = dharma_buddhism.310.desc
	theme = faith
	override_background = {
		event_background = dharma_temple_interior
	}
	left_portrait = {
		character = root
		animation = personality_rational
	}	

	trigger = {
		exists = scope:activity
		NOT = {
			exists = scope:activity.var:had_dharma_buddhism_310
		}
	}

	immediate = {
		scope:activity = {
			set_variable = {
				name = had_dharma_buddhism_310
				value = yes
			}
		}
		play_music_cue = "mx_cue_combat_stinger"
		hidden_effect = {
			if = {
				limit = {
					NOT = { has_trait = physician_3 }
				}
				random = {
					chance = 05
					save_scope_value_as = {
						name = increase_physcian
						value = yes
					}
				}
			}
		}
	}

	option = {# hmm, what can I learn. 
		name = dharma_buddhism.310.medical
		duel = {
			skill = learning
			value = high_skill_rating
			15 = {
				desc = dharma_buddhism.310.medical.success
				compare_modifier = {
					value = scope:duel_value
					multiplier = 0.5
					min = -14
				}
				send_interface_toast = {
					title = dharma_buddhism.310.medical.success_title
					left_icon = root
					add_prestige = minor_prestige_gain
					if = {
						limit = { exists = scope:increase_physcian }
						change_trait_rank = {
							trait = lifestyle_physician
							rank = 1
						}
					}
				}
			}
			10 = {
				desc = dharma_buddhism.310.medical.failure
				compare_modifier = {
					value = scope:duel_value
					multiplier = -0.5
					min = -9
				}
				send_interface_toast = {
					title = dharma_buddhism.310.medical.failure_title
					left_icon = root
				}
			}
		}
	}
	option = {# Stay
		name = dharma_buddhism.310.study
		add_character_modifier = {
			modifier = focused_student
			months = 4
		}
	}

	after = {
		if = {
			limit = { exists = scope:increase_physcian }
			clear_saved_scope = increase_physcian
		}
		dharma_set_up_next_nalanda_event_effect = { DAYS = 10 }
	}

}
dharma_buddhism.312 = {# Learning to love to read
	type = character_event
	title = dharma_buddhism.312.t
	desc = dharma_buddhism.312.desc
	theme = faith
	override_background = {
		event_background = dharma_temple_interior
	}
	left_portrait = {
		character = root
		animation = personality_rational
	}	

	trigger = {
		exists = scope:activity
		NOT = {
			exists = scope:activity.var:had_dharma_buddhism_312
		}
	}

	immediate = {
		scope:activity = {
			set_variable = {
				name = had_dharma_buddhism_312
				value = yes
			}
		}
	}

	option = {# I like to be solitary while reading
		name = dharma_buddhism.312.read
		random_list = {
			10 = {
				add_trait = reclusive
			}
			90 = {
				add_character_modifier = {
					modifier = nalanda_learning_books
					months = 4
				}
			}
		}
	}
	option = {# I like to write my stuff down
		name = dharma_buddhism.312.write
		random_list = {
			10 = {
				add_trait = journaller
			}
			90 = {
				add_character_modifier = {
					modifier = nalanda_learning_books
					months = 4
				}
			}
		}
	}
	after = {
		dharma_set_up_next_nalanda_event_effect = { DAYS = 10 }
	}
}
dharma_buddhism.315 = {# Recieving an education
	type = character_event
	title = dharma_buddhism.315.t
	desc = dharma_buddhism.315.desc
	theme = faith
	override_background = {
		event_background = dharma_temple_interior
	}
	left_portrait = {
		character = root
		animation = personality_rational
	}	

	trigger = {
		exists = scope:activity
		NOT = {
			exists = scope:activity.var:had_dharma_buddhism_315
		}
	}

	immediate = {
		scope:activity = {
			set_variable = {
				name = had_dharma_buddhism_315
				value = yes
			}
		}
	}

	option = {# Yoga Class
		name = dharma_buddhism.315.yoga
		add_character_modifier = {
			modifier = nalanda_learning_yoga
			months = 4
		}
	}
	option = {# Class on the Tripitaka
		name = dharma_buddhism.315.book
		add_character_modifier = {
			modifier = nalanda_learning_books
			months = 4
		}
	}
	option = {# Class on Logic
		name = dharma_buddhism.315.logic
		add_character_modifier = {
			modifier = nalanda_learning_logic
			months = 4
		}
	}
	option = {# Class on Astrology
		name = dharma_buddhism.315.astrology
		add_character_modifier = {
			modifier = nalanda_learning_astrology
			months = 4
		}
	}
	after = {
		dharma_set_up_next_nalanda_event_effect = { DAYS = 10 }
	}
}
# Returning from Nalanda
dharma_buddhism.316 = {# Returning Home
	type = character_event
	title = dharma_buddhism.316.t
	desc = dharma_buddhism.316.desc
	theme = faith
	override_background = {
		event_background = throne_room
	}
	left_portrait = {
		character = root
		animation = personality_rational
	}	

	option = {
		name = dharma_buddhism.316.home
		scope:activity = {
			complete_activity = yes
		}
	}
}
dharma_buddhism.317 = {# Misc cleanup
	hidden = yes	
	immediate = {
		scope:activity = {
			complete_activity = yes
		}
	}
}

