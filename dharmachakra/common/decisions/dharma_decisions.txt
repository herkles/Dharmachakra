#######################################
# General Decisions
#######################################
dharma_raise_hero_stone_decision = {# Raise a Hero Stone
	title = dharma_raise_hero_stone_decision_name
	picture = {
		reference = "gfx/interface/illustrations/decisions/fp1_decision_raise_runestone.dds"
	}
	decision_group_type = dravidian_medium

	desc = raise_hero_stone_decision_desc
	selection_tooltip = raise_hero_stone_decision_tooltip

	cooldown = { years = 10 }
	
	sort_order = 80

	is_shown = {
		# Landed characters only: nobody likes a mercenary.
		is_landed = yes
		primary_title.tier > tier_barony
		# Holds a suitable culture 
		culture = { has_cultural_pillar = heritage_dravidian }
	}

	is_valid = {
		custom_description = {# Got to have a suitable Ancestor worthy of a Hero Stone
			text = dharma_hero_stone_decision_ancestor
			has_variable = ancestor_to_bury
		}
	}

	is_valid_showing_failures_only = {
		# Standard checks.
		is_available_adult = yes
		# Shouldn't be at war.
		is_at_war = no
	}

	cost = { gold = raise_stele_gold_cost }

	effect = {
		# Save the gold value for refund purposes.
		set_variable = {
			name = raise_stele_refund
			value = raise_stele_gold_cost
		}
		# Generic effects.
		show_as_tooltip = { 
			dharma_hero_stone_bonuses_effect = yes 
		}
		# Show type effects.
		custom_tooltip = dharma_hero_stone_decision_tt.effects_list
		# Moved ahead to selection.
		trigger_event = dharma_dravidian.001
	}

	ai_check_interval = 36
	
	ai_potential = {
		# Only take it if you can afford it.
		short_term_gold >= raise_stele_gold_cost
	}

	ai_will_do = {
		# We don't want too many Hero Stones all over the place.
		base = 50
	}
}
dharma_consecrate_sacred_grove = {# Consencrate a Sacred Grove
	picture = {
		reference = "gfx/interface/illustrations/decisions/decision_sacred_grove.dds"
	}
	decision_group_type = hindu_medium

	ai_check_interval = 64
	desc = dharma_consecrate_sacred_grove_desc
	
	is_shown = {
		is_landed = yes
		NOT = {
			any_directly_owned_province = {
				OR = {
					has_province_modifier = sacred_grove_level_1
					has_province_modifier = sacred_grove_level_2
					has_province_modifier = sacred_grove_level_3
				}
			}
		}
		any_directly_owned_province = {# Need to have the right terrain type
			OR = {
				terrain = farmlands
				terrain = hills
				terrain = mountains
				terrain = jungle
				terrain = forest
				terrain = wetlands
				terrain = floodplains
			}
		}
		NOR = {
			religion = religion:christianity_religion
			religion = religion:judaism_religion
			religion = religion:islam_religion
			religion = religion:dualism_religion
			religion = religion:zoroastrianism_religion
		}
		OR = {
			government_has_flag = government_is_tribal
			# follows a tribal faith
			faith = faith:sarnaism
			faith = faith:koyapunem
			religion = religion:tani_religion
			religion = religion:mundhum_religion
			religion = religion:qiangic_religion
			religion = religion:bathouism_religion
			religion = religion:peristani_religion
			religion = religion:sanamahism_religion
			religion = religion:khasi_religion
			# faith supports nature worship
			faith = { has_doctrine = tenet_sanctity_of_nature }
			culture = {# Culture supports nature worship
				has_cultural_tradition = tradition_sacred_groves
			}
		}
		capital_province = {
			geographical_region = world_india
		}	
	}
	
	is_valid = {
		custom_tooltip = {
			text = no_sacred_grove_county
			trigger_if = {
				NOT = {
					any_directly_owned_province = {
						OR = {
							has_province_modifier = sacred_grove_level_1
							has_province_modifier = sacred_grove_level_2
							has_province_modifier = sacred_grove_level_3
						}
					}
				}
			}	
		}
	}

	is_valid_showing_failures_only = {
		is_available_adult = yes
	}

	cost = {
		gold = dharma_activity_cost
		prestige = medium_prestige_value
	}

	effect = {
		custom_tooltip = dharma_consecrate_sacred_grove_effect_tooltip_1
		custom_tooltip = dharma_consecrate_sacred_grove_effect_tooltip_2
		custom_tooltip = dharma_consecrate_sacred_grove_effect_tooltip_3
		trigger_event = { id = dharma_tribal.001 }
	}

	ai_potential = {
		short_term_gold >= dharma_activity_cost
	}

	ai_will_do = {
		base = 30
		modifier = {
			add = 10
			has_trait = zealous
		}
		modifier = {
			add = -10
			has_trait = cynical
		}
		modifier = {
			add = 10
			has_trait = ambitious
		}
		modifier = {
			add = -10
			has_trait = lazy
		}
	}
}
#######################################
# Select Personal diety
#######################################
select_personal_deity_tibet_decision = {# Tibetan Gods and Goddesses	
	picture = {
		reference = "gfx/interface/illustrations/decisions/tibetan_deities.dds"
	}
	decision_group_type = tibetan_medium

	desc = select_personal_deity_tibet_decision_desc
	selection_tooltip = select_personal_yidam_decision_tooltip

	is_shown = {
		OR = {
			religion = religion:bon_religion
			faith = faith:lamaism
		}
	}

	is_valid = {

	}

	is_valid_showing_failures_only = {
	}

	effect = {
		custom_tooltip = select_personal_yidam_decision_tt
		trigger_event = dharma_buddhism.200
	}

	ai_check_interval = 96
	cooldown = { months = 36 }	

	ai_potential = {
		piety >= minor_piety_value
		NOR = {
			# Bon Tibetan Deities
			has_character_modifier = buddhist_deity_sipe_gyalmo # Sipe Gyalmo
			has_character_modifier = buddhist_deity_shenlha_okar # Shenlha Okar
			has_character_modifier = buddhist_deity_tonpa_shenrab # Tonpa Shenrab
			has_character_modifier = buddhist_deity_yeshe_walmo # Yeshe Walmo
			has_character_modifier = buddhist_deity_takla_mebar # Takla Mebar
			has_character_modifier = buddhist_deity_Zhambala # Zhambala
			has_character_modifier = buddhist_deity_sherab_chamma # Sherab Chamma
			# Buddhist Tibetan Deities
			has_character_modifier = buddhist_deity_palden_lhamo # Palden_Lhamo
			has_character_modifier = buddhist_deity_tara # Tara
			has_character_modifier = buddhist_deity_avalokitesvara  # Avalokiteśvara 
			has_character_modifier = buddhist_deity_yamantaka # Yamantaka
			has_character_modifier = buddhist_deity_hevajra # Hevajra
			has_character_modifier = buddhist_deity_vajrayogini # Vajrayogini
		}
	}

	ai_will_do = {
		base = 100
	}
}
select_personal_nat_decision = {# Burmese Gods and Goddesses
	picture = {
		reference = "gfx/interface/illustrations/decisions/decision_personal_religious.dds"
	}
	decision_group_type = burmese_medium

	desc = select_personal_nat_decision_desc
	selection_tooltip = select_personal_nat_decision_tooltip

	is_shown = {
		OR = {
			faith = faith:ari
			And = {
				faith = faith:theravada
				culture = { has_cultural_pillar = heritage_burman }
			}
		}
	}

	is_valid = {

	}

	is_valid_showing_failures_only = {
	}

	effect = {
		custom_tooltip = select_personal_nat_decision_tt
		trigger_event = dharma_buddhism.201
	}

	ai_check_interval = 96
	cooldown = { months = 36 }	

	ai_potential = {
		piety >= minor_piety_value
		NOR = {
			# Ari Buddhist Nats
			has_character_modifier = nat_ari_thagyamin # Thagyamin
			has_character_modifier = nat_ari_mahagiri # Mahagiri
			has_character_modifier = nat_ari_hnamadawgyi # Hnamadawgyi
			has_character_modifier = nat_ari_ponmagyi # Ponmagyi
			has_character_modifier = nat_ari_sivali # Sīvali
			has_character_modifier = nat_ari_shwe_nabay # Shwe Nabay
			# Therevada Buddhist Nats
			has_character_modifier = nat_therevada_thurathadi # Thurathadi
			has_character_modifier = nat_therevada_lokanat  # Lokanat 
			has_character_modifier = nat_therevada_panhtwar # Panhtwar
			has_character_modifier = nat_therevada_shin_upagutta # Shin Upagutta
			has_character_modifier = nat_therevada_manimekhala # Manimekhala
		}
	}

	ai_will_do = {
		base = 100
	}
}
select_personal_deity_buddhist_decision = {# Buddhist Gods and Goddesses
	picture = {
		reference = "gfx/interface/illustrations/decisions/decision_buddhist_meditation.dds"
	}
	decision_group_type = buddhist_medium

	desc = select_personal_deity_buddhist_decision_desc
	selection_tooltip = select_personal_deity_buddhist_decision_tooltip

	is_shown = {
		OR = {
			faith = faith:theravada
			faith = faith:mahayana
			faith = faith:vajrayana
		}
	}

	is_valid = {

	}

	is_valid_showing_failures_only = {
	}

	effect = {
		custom_tooltip = select_personal_meditional_deity_decision_tt
		trigger_event = dharma_buddhism.202
	}

	ai_check_interval = 96
	cooldown = { months = 36 }	

	ai_potential = {
		piety >= minor_piety_value
		NOR = {
			# Bon Tibetan Deities
			has_character_modifier = buddhist_deity_sipe_gyalmo # Sipe Gyalmo
			has_character_modifier = buddhist_deity_shenlha_okar # Shenlha Okar
			has_character_modifier = buddhist_deity_tonpa_shenrab # Tonpa Shenrab
			has_character_modifier = buddhist_deity_yeshe_walmo # Yeshe Walmo
			has_character_modifier = buddhist_deity_takla_mebar # Takla Mebar
			has_character_modifier = buddhist_deity_Zhambala # Zhambala
			has_character_modifier = buddhist_deity_sherab_chamma # Sherab Chamma
			# Buddhist Tibetan Deities
			has_character_modifier = buddhist_deity_palden_lhamo # Palden_Lhamo
			has_character_modifier = buddhist_deity_tara # Tara
			has_character_modifier = buddhist_deity_avalokitesvara  # Avalokiteśvara 
			has_character_modifier = buddhist_deity_yamantaka # Yamantaka
			has_character_modifier = buddhist_deity_hevajra # Hevajra
			has_character_modifier = buddhist_deity_vajrayogini # Vajrayogini
		}
	}

	ai_will_do = {
		base = 100
	}
}
#######################################
# Hindu Decisions
#######################################
dharma_pick_hindu_philosophy = {# Follow a Mahayana Buddhist School
	picture = {
		reference = "gfx/interface/illustrations/decisions/decision_buddhist_meditation.dds"
	}
	decision_group_type = hindu_minor

	ai_check_interval = 96
	cooldown = { months = 36 }
	desc = dharma_pick_hindu_philosophy_desc
	
	is_shown = {
		religion = religion:hinduism_religion
		is_ruler = yes
		is_landed = yes
	}
	
	is_valid = {
		OR = {
			has_perk = faithful_perk
			has_perk = pedagogy_perk
			learning >= 12
		}
		religion = religion:hinduism_religion
	}
	
	is_valid_showing_failures_only = {
		is_available_adult = yes
	}

	effect = {
		custom_tooltip = dharma_pick_hindu_philosophy_tooltip
		trigger_event = dharma_hinduism.050
	}

	ai_potential = {
		piety >= minor_piety_value
		NOR = {
			has_trait = hindu_philoosphy_yoga
			has_trait = hindu_philoosphy_samkhya
			has_trait = hindu_philoosphy_vaisheshika
			has_trait = hindu_philoosphy_mimamsa
			has_trait = hindu_philoosphy_nyaya
			has_trait = hindu_philoosphy_vishishtadvaita
			has_trait = hindu_philoosphy_advaita_vedanta
			has_trait = hindu_philoosphy_bhedabheda
			has_trait = hindu_philoosphy_dvaita_vedanta
		}
	}

	ai_will_do = {
		base = 40
		modifier = {
			add = 40
			has_trait = theologian
		}
		modifier = {
			add = 10
			has_trait = scholar
		}
		modifier = {
			add = 10
			has_trait = zealous
		}
		modifier = {
			add = -10
			has_trait = cynical
		}
		modifier = {
			add = -10
			has_trait = lazy
		}
	}
}
dharma_build_minor_hindu_holy_building = {# Build a minor Hindu building
	picture = { reference = "gfx/interface/illustrations/decisions/decision_dharma_hindu_temple.dds" }
	ai_check_interval = 40
	decision_group_type = hindu_minor
	cooldown = { days = 3650 }

	desc = dharma_build_minor_hindu_holy_building_desc
	selection_tooltip = dharma_build_minor_hindu_holy_building_tooltip

	is_shown = {
		highest_held_title_tier > tier_barony
		is_landed = yes
		religion = religion:hinduism_religion
	}
	
	is_valid = {
		religion = religion:hinduism_religion
		custom_description = {
			text = dharma_build_minor_hindu_holy_building_county_req
			dharma_donate_holy_site_req_trigger = yes # CHANGE
		}
		custom_description = {
			text = dharma_build_minor_hindu_holy_building_current_req
			NOT = { has_character_flag = dharma_hindu_currently_building_religious_site }
		}
	}
	
	is_valid_showing_failures_only = {
		RICE_is_available_adult_even_if_sick_trigger = yes
	}	
		
    widget = {
    	gui = "decision_view_widget_dharma_build_minor_hindu_holy_building"
		controller = decision_option_list_controller	
		
		#decision_has_second_step = yes
		#decision_custom_widget_container = "custom_widgets_container_step_two"
		decision_to_second_step_button = "dharma_minor_hindu_building_type" 

		item = {# Shrine
			value = dharma_build_hindu_site_shrine_option
			current_description = dharma_build_hindu_site_shrine_option_desc
			localization = dharma_build_hindu_site_shrine_option
			icon = "gfx/interface/icons/building_types/icon_building_hill_farms.dds"

			ai_chance = {
				value = 10
			}
		}
		item = {# Temple
			value = dharma_build_hindu_site_small_temple_option
			current_description = dharma_build_hindu_site_small_temple_option_desc
			localization = dharma_build_hindu_site_small_temple_option
			icon = "gfx/interface/icons/building_types/icon_building_generic_house.dds"

			ai_chance = {
				value = 10
			}
		}
		item = {# Small Monastery
			value = dharma_build_hindu_site_small_monastery_option
			current_description = dharma_build_hindu_site_small_monastery_option_desc
			localization = dharma_build_hindu_site_small_monastery_option
			icon = "gfx/interface/icons/building_types/icon_building_monastic_schools.dds"

			ai_chance = {
				value = 10
			}
		}
		item = {# Large Temple
			value = dharma_build_hindu_site_large_temple_option
			current_description = dharma_build_hindu_site_large_temple_option_desc
			localization = dharma_build_hindu_site_large_temple_option
			icon = "gfx/interface/icons/building_types/icon_structure_brihadeeswarar_temple.dds"

			ai_chance = {
				value = 10
			}
		}
		item = {# Large Monastary
			value = dharma_build_hindu_site_large_monastery_option
			current_description = dharma_build_hindu_site_large_monastery_option_desc
			localization = dharma_build_hindu_site_large_monastery_option
			icon = "gfx/interface/icons/building_types/icon_structure_nalanda.dds"

			ai_chance = {
				value = 10
			}
		}
	}

	effect = {

		custom_tooltip = dharma_build_minor_hindu_holy_building_effect_tooltip_1
		custom_tooltip = dharma_build_minor_hindu_holy_building_effect_tooltip_2
		# Not sure why AI can't pick one option or another
		if = {
			limit = { is_ai = yes }
			random_list = {
				10 = {
					set_variable = {
						name = dharma_hindu_building_type
						value = flag:shrine
					}
				}
				10 = {
					set_variable = {
						name = dharma_hindu_building_type
						value = flag:small_temple
					}
				}
				10 = {
					set_variable = {
						name = dharma_hindu_building_type
						value = flag:small_monastery
					}
				}
				10 = {
					set_variable = {
						name = dharma_hindu_building_type
						value = flag:large_temple
					}
				}
				10 = {
					set_variable = {
						name = dharma_hindu_building_type
						value = flag:large_monastery
					}
				}
			}
		}
		else_if = {
			limit = {
				scope:dharma_build_hindu_site_shrine_option = yes
			}
			set_variable = {
				name = dharma_hindu_building_type
				value = flag:shrine
			}
		}
		else_if = {
			limit = {
				scope:dharma_build_hindu_site_small_temple_option = yes
			}
			set_variable = {
				name = dharma_hindu_building_type
				value = flag:small_temple
			}
		}
		else_if = {
			limit = {
				scope:dharma_build_hindu_site_small_monastery_option = yes
			}
			set_variable = {
				name = dharma_hindu_building_type
				value = flag:small_monastery
			}
		}
		else_if = {
			limit = {
				scope:dharma_build_hindu_site_large_temple_option = yes
			}
			set_variable = {
				name = dharma_hindu_building_type
				value = flag:large_temple
			}
		}
		else_if = {
			limit = {
				scope:dharma_build_hindu_site_large_monastery_option = yes
			}
			set_variable = {
				name = dharma_hindu_building_type
				value = flag:large_monastery
			}
		}		
		
		trigger_event = dharma_hinduism.011
	}

	minimum_cost = { 
		gold = { value = dharma_build_small_holy_site_cost } # Will depend
	}	

	ai_potential = {
		short_term_gold > dharma_build_medium_holy_site_cost
	}

	ai_will_do = {
		base = 30
		modifier = {
			add = 5
			has_trait = zealous
		}
		modifier = {
			add = -15
			has_trait = cynical
		}
	}
}
#######################################
# Buddhist Decisions
#######################################
dharma_adopt_mahayana_school = {# Follow a Mahayana Buddhist School
	picture = {
		reference = "gfx/interface/illustrations/decisions/decision_buddhist_meditation.dds"
	}
	decision_group_type = buddhist_minor

	ai_check_interval = 96
	cooldown = { months = 36 }
	desc = dharma_adopt_mahayana_school_desc
	
	is_shown = {
		faith = faith:mahayana
		is_ruler = yes
		is_landed = yes
	}
	
	is_valid = {
		has_perk = faithful_perk
		faith = faith:mahayana
	}
	
	is_valid_showing_failures_only = {
		is_available_adult = yes
	}

	effect = {
		custom_tooltip = dharma_adopt_mahayana_school_tooltip
		trigger_event = dharma_buddhism.050
	}

	ai_potential = {
		piety >= minor_piety_value
		NOR = {
			has_trait = buddhist_school_pure_land
			has_trait = buddhist_school_yogachara
			has_trait = buddhist_school_madhyamaka
			has_trait = buddhist_school_chan
		}
	}

	ai_will_do = {
		base = 40
		modifier = {
			add = 40
			has_trait = theologian
		}
		modifier = {
			add = 10
			has_trait = scholar
		}
		modifier = {
			add = 10
			has_trait = zealous
		}
		modifier = {
			add = -10
			has_trait = cynical
		}
		modifier = {
			add = -10
			has_trait = lazy
		}
	}
}
dharma_adopt_tibetan_school = {# Follow a Tibetan Buddhist School
	picture = {
		reference = "gfx/interface/illustrations/decisions/decision_buddhist_meditation.dds"
	}
	decision_group_type = buddhist_minor

	ai_check_interval = 96
	cooldown = { months = 36 }
	desc = dharma_adopt_tibetan_school_desc
	
	is_shown = {
		faith = faith:lamaism
		is_ruler = yes
		is_landed = yes
	}
	
	is_valid = {
		has_perk = faithful_perk
		faith = faith:mahayana
	}
	
	is_valid_showing_failures_only = {
		is_available_adult = yes
	}

	effect = {
		custom_tooltip = dharma_adopt_tibetan_school_tooltip
		trigger_event = dharma_buddhism.051
	}

	ai_potential = {
		piety >= minor_piety_value
		NOR = {
			has_trait = buddhist_school_nyingma
			has_trait = buddhist_school_kadam
			has_trait = buddhist_school_sakya
			has_trait = buddhist_school_kagyu
		}
	}

	ai_will_do = {
		base = 40
		modifier = {
			add = 40
			has_trait = theologian
		}
		modifier = {
			add = 10
			has_trait = scholar
		}
		modifier = {
			add = 10
			has_trait = zealous
		}
		modifier = {
			add = -10
			has_trait = cynical
		}
		modifier = {
			add = -10
			has_trait = lazy
		}
	}
}
#######################################
# Jain Decisions
#######################################
dharma_jain_abdication = {# Abdicate and become a monk
	picture = {
		reference = "gfx/interface/illustrations/decisions/dharma_decision_jain_holy_day.dds"
	}
	decision_group_type = jain_major	
	
	desc = dharma_jain_abdication_desc
	selection_tooltip = dharma_jain_abdication_tooltip

	is_shown = {
		religion = religion:jainism_religion
		has_trait = zealous
		holds_landed_title = yes
		is_at_war = no
	}

	is_valid = {
		religion = religion:jainism_religion
		has_trait = zealous
		holds_landed_title = yes
		is_at_war = no
	}

	is_valid_showing_failures_only = {
		is_available_adult = yes
	}

	effect = {
		trigger_event = dharma_jainism.010
	}

	ai_check_interval = 96

	ai_potential = {
		piety >= major_piety_value
	}

	ai_will_do = {
		base = 0
		modifier = {
			add = 10
			age >= 60
		}
	}
}
#######################################
# Zoroastrian Decisions
#######################################
dharma_zoro_keshmar_cypruss = {# Replant the sacred tree
	picture = {
		reference = "gfx/interface/illustrations/decisions/fp3_decision_foundation.dds"
	}
	decision_group_type = major

	ai_check_interval = 120

	desc = dharma_zoro_keshmar_cypruss_desc
	selection_tooltip = dharma_zoro_keshmar_cypruss_tooltip

	is_shown = {
		religion = religion:zoroastrianism_religion
		is_landed = yes
		NOT = {
			is_target_in_global_variable_list = {
				name = unavailable_unique_decisions
				target = flag:dharma_zoro_keshmar_cypruss
			}
		}
	}

	is_valid = {
		# independent
		is_independent_ruler = yes
		has_title = title:c_baihaq
		has_title = title:c_yazd
		prestige_level >= 3
		piety_level >= 3
		# Keshmar must be Zoroastrian
		title:c_baihaq = {
			religion = religion:zoroastrianism_religion
		}
	}
		
	is_valid_showing_failures_only = {
		is_available_at_peace_adult = yes
	}

	effect = {
		add_to_global_variable_list = {
			name = unavailable_unique_decisions
			target = flag:dharma_zoro_keshmar_cypruss
		}
		trigger_event = { id = dharma_zoro.030 }
	}

	cost = { 
		gold = dharma_activity_cost
		prestige = medium_prestige_value
	}

	ai_potential = {
		always = yes
	}

	ai_will_do = {
		base = 20
		modifier = {
			add = 10
			has_trait = zealous
		}
		modifier = {
			add = -10
			has_trait = cynical
		}
		modifier = {
			add = 10
			has_trait = ambitious
		}
		modifier = {
			add = -10
			has_trait = lazy
		}
	}
}
dharma_zoro_tarikhaneh_conversion = {# Convert the Mosque to a fire temple
	picture = {	reference = "gfx/interface/illustrations/decisions/fp3_decision_foundation.dds" }
	decision_group_type = major

	ai_check_interval = 120

	desc = dharma_zoro_tarikhaneh_conversion_desc
	selection_tooltip = dharma_zoro_tarikhaneh_conversion_tooltip

	is_shown = {
		religion = religion:zoroastrianism_religion
		any_held_title = {# must be in the region
			tier = tier_county
			title_province = { geographical_region = world_persian_empire }
		}
		is_landed = yes
		NOT = {
			is_target_in_global_variable_list = {
				name = unavailable_unique_decisions
				target = flag:dharma_zoro_tarikhaneh_converted
			}
		}
	}

	is_valid = {
		# independent
		is_independent_ruler = yes
		has_title = title:c_damghan
		piety_level >= 3
		# Keshmar must be Zoroastrian
		title:c_damghan = {
			religion = religion:zoroastrianism_religion
		}
	}
		
	is_valid_showing_failures_only = {
		is_available_at_peace_adult = yes
	}

	effect = {
		add_to_global_variable_list = {
			name = unavailable_unique_decisions
			target = flag:dharma_zoro_tarikhaneh_converted
		}
		custom_tooltip = dharma_consecrate_sacred_grove_effect_tooltip_1
		trigger_event = { id = dharma_zoro.050 }
	}

	cost = { 
		gold = dharma_activity_cost
		prestige = medium_prestige_value
	}

	ai_potential = {
		always = yes
	}

	ai_will_do = {
		base = 20
		modifier = {
			add = 10
			has_trait = zealous
		}
		modifier = {
			add = -10
			has_trait = cynical
		}
		modifier = {
			add = 10
			has_trait = ambitious
		}
		modifier = {
			add = -10
			has_trait = lazy
		}
	}
}
#######################################
# Character Decisions
#######################################
dharma_tibet_yumten_legitimacy = {# Yumten proves he is his father's son
	picture = {	reference = "gfx/interface/illustrations/decisions/decision_tibet_castle.dds" }
	decision_group_type = major	
	desc = dharma_tibet_yumten_legitimacy_desc
	selection_tooltip = dharma_tibet_yumten_legitimacy_tooltip

	is_shown = {
		# Have to be Yumten and must have disputed heritage
		this = character:247132
		has_trait = disputed_heritage
		NOT = {# Can only happen once
			is_target_in_global_variable_list = {
				name = unavailable_unique_decisions
				target = flag:dharma_yumten_decision
			}
		}
	}

	is_valid = {
		completely_controls = title:k_guge
		completely_controls = title:k_u
		character:247131 = {# His brother must be dead
			is_alive = no
		}
		is_independent_ruler = yes # Your father was an emperor and you shall not kneel
		# have to have decent legitimacy and prestige to prove you worthy
		legitimacy_level >= 3
		prestige_level >= 3
	}

	is_valid_showing_failures_only = {
		is_available_adult = yes
	}

	effect = {
		add_to_global_variable_list = {
			name = unavailable_unique_decisions
			target = flag:dharma_yumten_decision
		}
		trigger_event = dharma_tibet.001
	}

	ai_check_interval = 96

	ai_potential = {
		piety >= major_piety_value
	}

	ai_will_do = {
		base = 100
	}
}
#######################################
# RICE Decisions
#######################################
dharma_india_irrigation_tank_decision = {
	picture = { reference = "gfx/interface/illustrations/decisions/decision_rice_indian_agriculture.dds" }
	desc = RICE_india_irrigation_tank_decision_desc

	ai_check_interval = 48

	cooldown = { days = 3650 }

	is_shown = {
		is_RICE_loaded = no
		highest_held_title_tier > tier_barony
		is_landed = yes
		OR = {
			capital_province = { geographical_region = world_india }
			culture = {	has_innovation = innovation_RICE_irrigation_tanks }
		}	
	}

	is_valid = {
		culture = {	has_innovation = innovation_RICE_irrigation_tanks }
	}

	is_valid_showing_failures_only = {
		is_available_adult = yes
	}

	minimum_cost = {
		gold = RICE_irrigation_tank_small_cost
	}

	effect = {	
		custom_tooltip = RICE_india_irrigation_tank_decision_effect_tooltip_1
		custom_tooltip = RICE_india_irrigation_tank_decision_effect_tooltip_2

		if = {
			limit = { 
				culture = { has_cultural_parameter = unlock_rice_wewa_irrigation_tank_effects } 
			}
			custom_tooltip = RICE_india_irrigation_tank_decision_effect_tooltip_3
		}
		if = {
			limit = {
				culture = { has_cultural_parameter = unlock_rice_stepwell_irrigation_tank_effects }
			}
			custom_tooltip = RICE_india_irrigation_tank_decision_effect_tooltip_4
		}
		trigger_event = dharma_gujar.001
	}

	ai_will_do = {
		base = 30

		modifier = {
			add = 10
			has_trait = ambitious
		}
		modifier = {
			add = -10
			has_trait = greedy
		}
		modifier = {
			add = 10
			has_trait = diligent
		}
		modifier = {
			add = -10
			has_trait = lazy
		}

	}
}
dharma_zoro_establish_cult_center = {
	picture = { reference = "gfx/interface/illustrations/decisions/decision_zoroastrian_fire_temple.dds" }
	ai_check_interval = 40
	
	cooldown = { days = 7300 }

	desc = dharma_zoro_establish_cult_center_desc
	selection_tooltip = dharma_zoro_establish_cult_center_tooltip

	is_shown = {
		is_RICE_loaded = no
		highest_held_title_tier > tier_barony
		is_landed = yes
		religion = religion:zoroastrianism_religion
		RICE_has_unorthodox_yazatas_trigger = yes
		any_held_county = {
			RICE_has_yazata_cult_center_trigger = no
		}
	}
	
	is_valid = {
		religion = religion:zoroastrianism_religion
		RICE_has_unorthodox_yazatas_trigger = yes
		custom_description = {
			text = RICE_establish_yazata_no_other_cult_centers_req
			NOT = {
				capital_county.duchy = {
					any_in_de_jure_hierarchy = {
						tier = tier_county
						RICE_has_yazata_cult_center_trigger = yes
					}
				}
			}
		}
		piety_level >= 3
	}
	
	is_valid_showing_failures_only = {
		RICE_is_available_adult_even_if_sick_trigger = yes
	}

	
    widget = {
    	gui = "decision_view_widget_dharma_zoro_establish_cult_center"
		controller = decision_option_list_controller
    	
		#decision_has_second_step = yes
		#decision_custom_widget_container = "custom_widgets_container_step_two"
		decision_to_second_step_button = "dharma_zoro_establish_cult_center_type" 

		item = {
			value = RICE_yazata_anahita_cult_center_option
			current_description = RICE_yazata_anahita_cult_center_option_desc
			localization = RICE_yazata_anahita_cult_center_option
			icon = "gfx/interface/icons/widgets/RICE_zoroastrian_anahita.dds"

			ai_chance = {
				value = 10
			}
		}

		item = {
			value = RICE_yazata_astghik_cult_center_option
			is_shown = {
				faith = { has_doctrine_parameter = rice_unlock_armenian_yazatas }
			}
			current_description = RICE_yazata_astghik_cult_center_option_desc
			localization = RICE_yazata_astghik_cult_center_option
			icon = "gfx/interface/icons/widgets/RICE_zoroastrian_astghik.dds"

			ai_chance = {
				value = 10
			}
		}

		item = {
			value = RICE_yazata_bahram_cult_center_option
			is_shown = {
				NOT = { faith = { has_doctrine_parameter = rice_unlock_armenian_yazatas } }
			}
			current_description = RICE_yazata_bahram_cult_center_option_desc
			localization = RICE_yazata_bahram_cult_center_option
			icon = "gfx/interface/icons/widgets/RICE_zoroastrian_bahram.dds"

			ai_chance = {
				value = 10
			}
		}

		item = {
			value = RICE_yazata_barshamin_cult_center_option
			is_shown = {
				faith = { has_doctrine_parameter = rice_unlock_armenian_yazatas }
			}
			current_description = RICE_yazata_barshamin_cult_center_option_desc
			localization = RICE_yazata_barshamin_cult_center_option
			icon = "gfx/interface/icons/widgets/RICE_zoroastrian_barshamin.dds"

			ai_chance = {
				value = 10
			}
		}

		item = {
			value = RICE_yazata_dali_cult_center_option
			is_shown = {
				faith = { has_doctrine_parameter = rice_unlock_georgian_yazatas }
			}
			current_description = RICE_yazata_dali_cult_center_option_desc
			localization = RICE_yazata_dali_cult_center_option
			icon = "gfx/interface/icons/widgets/RICE_zoroastrian_dali.dds"

			ai_chance = {
				value = 10
			}
		}

		item = {
			value = RICE_yazata_gaim_cult_center_option
			is_shown = {
				faith = { has_doctrine_parameter = rice_unlock_georgian_yazatas }
			}
			current_description = RICE_yazata_gaim_cult_center_option_desc
			localization = RICE_yazata_gaim_cult_center_option
			icon = "gfx/interface/icons/widgets/RICE_zoroastrian_gaim.dds"

			ai_chance = {
				value = 10
			}
		}

		item = {
			value = RICE_yazata_gatsi_cult_center_option
			is_shown = {
				faith = { has_doctrine_parameter = rice_unlock_georgian_yazatas }
			}
			current_description = RICE_yazata_gatsi_cult_center_option_desc
			localization = RICE_yazata_gatsi_cult_center_option
			icon = "gfx/interface/icons/widgets/RICE_zoroastrian_gatsi.dds"

			ai_chance = {
				value = 10
			}
		}

		item = {
			value = RICE_yazata_kopala_cult_center_option
			is_shown = {
				faith = { has_doctrine_parameter = rice_unlock_georgian_yazatas }
			}
			current_description = RICE_yazata_kopala_cult_center_option_desc
			localization = RICE_yazata_kopala_cult_center_option
			icon = "gfx/interface/icons/widgets/RICE_zoroastrian_kopala.dds"

			ai_chance = {
				value = 10
			}
		}

		item = {
			value = RICE_yazata_mah_cult_center_option
			current_description = RICE_yazata_mah_cult_center_option_desc
			localization = RICE_yazata_mah_cult_center_option
			icon = "gfx/interface/icons/widgets/RICE_zoroastrian_mah.dds"

			ai_chance = {
				value = 10
			}
		}

		item = {
			value = RICE_yazata_mithra_cult_center_option
			current_description = RICE_yazata_mithra_cult_center_option_desc
			localization = RICE_yazata_mithra_cult_center_option
			icon = "gfx/interface/icons/widgets/RICE_zoroastrian_mithra.dds"

			ai_chance = {
				value = 10
			}
		}

		item = {
			value = RICE_yazata_nana_cult_center_option
			current_description = RICE_yazata_nana_cult_center_option_desc
			localization = RICE_yazata_nana_cult_center_option
			icon = "gfx/interface/icons/widgets/RICE_zoroastrian_nana.dds"

			ai_chance = {
				value = 10
			}
		}

		item = {
			value = RICE_yazata_rashnu_cult_center_option
			is_shown = {
				NOT = { faith = { has_doctrine_parameter = rice_unlock_georgian_yazatas } }
			}
			current_description = RICE_yazata_rashnu_cult_center_option_desc
			localization = RICE_yazata_rashnu_cult_center_option
			icon = "gfx/interface/icons/widgets/RICE_zoroastrian_rashnu.dds"

			ai_chance = {
				value = 10
			}
		}

		item = {
			value = RICE_yazata_siyavash_cult_center_option
			is_shown = {
				faith = { has_doctrine_parameter = rice_unlock_bactro_sogdian_yazatas }
			}
			current_description = RICE_yazata_siyavash_cult_center_option_desc
			localization = RICE_yazata_siyavash_cult_center_option
			icon = "gfx/interface/icons/widgets/RICE_zoroastrian_siyavash.dds"

			ai_chance = {
				value = 10
			}
		}

		item = {
			value = RICE_yazata_sraosha_cult_center_option
			is_shown = {
				NOT = { faith = { has_doctrine_parameter = rice_unlock_georgian_yazatas } }
			}
			current_description = RICE_yazata_sraosha_cult_center_option_desc
			localization = RICE_yazata_sraosha_cult_center_option
			icon = "gfx/interface/icons/widgets/RICE_zoroastrian_sraosha.dds"

			ai_chance = {
				value = 10
			}
		}

		item = {
			value = RICE_yazata_tir_cult_center_option
			current_description = RICE_yazata_tir_cult_center_option_desc
			localization = RICE_yazata_tir_cult_center_option
			icon = "gfx/interface/icons/widgets/RICE_zoroastrian_tir.dds"

			ai_chance = {
				value = 10
			}
		}

		item = {
			value = RICE_yazata_tork_cult_center_option
			is_shown = {
				faith = { has_doctrine_parameter = rice_unlock_armenian_yazatas }
			}
			current_description = RICE_yazata_tork_cult_center_option_desc
			localization = RICE_yazata_tork_cult_center_option
			icon = "gfx/interface/icons/widgets/RICE_zoroastrian_tork.dds"

			ai_chance = {
				value = 10
			}
		}

		item = {
			value = RICE_yazata_vahagn_cult_center_option
			is_shown = {
				faith = { has_doctrine_parameter = rice_unlock_armenian_yazatas }
			}
			current_description = RICE_yazata_vahagn_cult_center_option_desc
			localization = RICE_yazata_vahagn_cult_center_option
			icon = "gfx/interface/icons/widgets/RICE_zoroastrian_vahagn.dds"

			ai_chance = {
				value = 10
			}
		}

		item = {
			value = RICE_yazata_wakhsh_cult_center_option
			is_shown = {
				faith = { has_doctrine_parameter = rice_unlock_bactro_sogdian_yazatas }
			}
			current_description = RICE_yazata_wakhsh_cult_center_option_desc
			localization = RICE_yazata_wakhsh_cult_center_option
			icon = "gfx/interface/icons/widgets/RICE_zoroastrian_wakhsh.dds"

			ai_chance = {
				value = 10
			}
		}

		item = {
			value = RICE_yazata_weshparkar_cult_center_option
			is_shown = {
				faith = { has_doctrine_parameter = rice_unlock_bactro_sogdian_yazatas }
			}
			current_description = RICE_yazata_weshparkar_cult_center_option_desc
			localization = RICE_yazata_weshparkar_cult_center_option
			icon = "gfx/interface/icons/widgets/RICE_zoroastrian_weshparkar.dds"

			ai_chance = {
				value = 10
			}
		}

		item = {
			value = RICE_yazata_zaden_cult_center_option
			is_shown = {
				faith = { has_doctrine_parameter = rice_unlock_georgian_yazatas }
			}
			current_description = RICE_yazata_zaden_cult_center_option_desc
			localization = RICE_yazata_zaden_cult_center_option
			icon = "gfx/interface/icons/widgets/RICE_zoroastrian_zaden.dds"

			ai_chance = {
				value = 10
			}
		}

	}

	effect = {

		custom_tooltip = dharma_zoro_establish_cult_center_effect_tooltip_1
		custom_tooltip = dharma_zoro_establish_cult_center_effect_tooltip_2	
		custom_tooltip = dharma_zoro_establish_cult_center_effect_tooltip_3

		show_as_tooltip = {
			add_piety = 150
			add_prestige = 100
		}


		if = { # AI
			limit = { is_ai = yes }
			random_list = {
				10 = {
					set_variable = {
						name = RICE_yazata_cult_center
						value = flag:anahita
					}					
				}
				10 = {
					trigger = {
						NOT = { faith = { has_doctrine_parameter = rice_unlock_armenian_yazatas } }
					}
					set_variable = {
						name = RICE_yazata_cult_center
						value = flag:bahram
					}					
				}
				10 = {
					set_variable = {
						name = RICE_yazata_cult_center
						value = flag:mah
					}					
				}
				10 = {
					set_variable = {
						name = RICE_yazata_cult_center
						value = flag:mithra
					}					
				}
				10 = {
					set_variable = {
						name = RICE_yazata_cult_center
						value = flag:nana
					}					
				}
				10 = {
					trigger = {
						NOT = { faith = { has_doctrine_parameter = rice_unlock_georgian_yazatas } }
					}
					set_variable = {
						name = RICE_yazata_cult_center
						value = flag:rashnu
					}					
				}
				10 = {
					trigger = {
						NOT = { faith = { has_doctrine_parameter = rice_unlock_georgian_yazatas } }
					}
					set_variable = {
						name = RICE_yazata_cult_center
						value = flag:sraosha
					}					
				}
				10 = {
					set_variable = {
						name = RICE_yazata_cult_center
						value = flag:tir
					}					
				}
				10 = {
					trigger = {
						faith = { has_doctrine_parameter = rice_unlock_bactro_sogdian_yazatas }
					}
					set_variable = {
						name = RICE_yazata_cult_center
						value = flag:siyavash
					}					
				}
				10 = {
					trigger = {
						faith = { has_doctrine_parameter = rice_unlock_bactro_sogdian_yazatas }
					}
					set_variable = {
						name = RICE_yazata_cult_center
						value = flag:wakhsh
					}					
				}
				10 = {
					trigger = {
						faith = { has_doctrine_parameter = rice_unlock_bactro_sogdian_yazatas }
					}
					set_variable = {
						name = RICE_yazata_cult_center
						value = flag:weshparkar
					}					
				}
				10 = {
					trigger = {
						faith = { has_doctrine_parameter = rice_unlock_armenian_yazatas }
					}
					set_variable = {
						name = RICE_yazata_cult_center
						value = flag:astghik
					}					
				}
				10 = {
					trigger = {
						faith = { has_doctrine_parameter = rice_unlock_armenian_yazatas }
					}
					set_variable = {
						name = RICE_yazata_cult_center
						value = flag:barshamin
					}					
				}
				10 = {
					trigger = {
						faith = { has_doctrine_parameter = rice_unlock_armenian_yazatas }
					}
					set_variable = {
						name = RICE_yazata_cult_center
						value = flag:tork
					}					
				}
				10 = {
					trigger = {
						faith = { has_doctrine_parameter = rice_unlock_armenian_yazatas }
					}
					set_variable = {
						name = RICE_yazata_cult_center
						value = flag:vahagn
					}					
				}
				10 = {
					trigger = {
						faith = { has_doctrine_parameter = rice_unlock_georgian_yazatas }
					}
					set_variable = {
						name = RICE_yazata_cult_center
						value = flag:dali
					}					
				}
				10 = {
					trigger = {
						faith = { has_doctrine_parameter = rice_unlock_georgian_yazatas }
					}
					set_variable = {
						name = RICE_yazata_cult_center
						value = flag:gaim
					}					
				}
				10 = {
					trigger = {
						faith = { has_doctrine_parameter = rice_unlock_georgian_yazatas }
					}
					set_variable = {
						name = RICE_yazata_cult_center
						value = flag:gatsi
					}					
				}
				10 = {
					trigger = {
						faith = { has_doctrine_parameter = rice_unlock_georgian_yazatas }
					}
					set_variable = {
						name = RICE_yazata_cult_center
						value = flag:kopala
					}					
				}
				10 = {
					trigger = {
						faith = { has_doctrine_parameter = rice_unlock_georgian_yazatas }
					}
					set_variable = {
						name = RICE_yazata_cult_center
						value = flag:zaden
					}					
				}
			}
		}
		else_if = {
			limit = { scope:RICE_yazata_anahita_cult_center_option = yes }
			set_variable = {
				name = RICE_yazata_cult_center
				value = flag:anahita
			}
		}
		else_if = {
			limit = { scope:RICE_yazata_bahram_cult_center_option = yes }
			set_variable = {
				name = RICE_yazata_cult_center
				value = flag:bahram
			}
		}
		else_if = {
			limit = { scope:RICE_yazata_mah_cult_center_option = yes }
			set_variable = {
				name = RICE_yazata_cult_center
				value = flag:mah
			}
		}
		else_if = {
			limit = { scope:RICE_yazata_mithra_cult_center_option = yes }
			set_variable = {
				name = RICE_yazata_cult_center
				value = flag:mithra
			}
		}
		else_if = {
			limit = { scope:RICE_yazata_nana_cult_center_option = yes }
			set_variable = {
				name = RICE_yazata_cult_center
				value = flag:nana
			}
		}
		else_if = {
			limit = { scope:RICE_yazata_rashnu_cult_center_option = yes }
			set_variable = {
				name = RICE_yazata_cult_center
				value = flag:rashnu
			}
		}
		else_if = {
			limit = { scope:RICE_yazata_sraosha_cult_center_option = yes }
			set_variable = {
				name = RICE_yazata_cult_center
				value = flag:sraosha
			}
		}
		else_if = {
			limit = { scope:RICE_yazata_tir_cult_center_option = yes }
			set_variable = {
				name = RICE_yazata_cult_center
				value = flag:tir
			}
		}
		else_if = {
			limit = { scope:RICE_yazata_siyavash_cult_center_option = yes }
			set_variable = {
				name = RICE_yazata_cult_center
				value = flag:siyavash
			}
		}
		else_if = {
			limit = { scope:RICE_yazata_wakhsh_cult_center_option = yes }
			set_variable = {
				name = RICE_yazata_cult_center
				value = flag:wakhsh
			}
		}
		else_if = {
			limit = { scope:RICE_yazata_weshparkar_cult_center_option = yes }
			set_variable = {
				name = RICE_yazata_cult_center
				value = flag:weshparkar
			}
		}
		else_if = {
			limit = { scope:RICE_yazata_astghik_cult_center_option = yes }
			set_variable = {
				name = RICE_yazata_cult_center
				value = flag:astghik
			}
		}
		else_if = {
			limit = { scope:RICE_yazata_barshamin_cult_center_option = yes }
			set_variable = {
				name = RICE_yazata_cult_center
				value = flag:barshamin
			}
		}
		else_if = {
			limit = { scope:RICE_yazata_tork_cult_center_option = yes }
			set_variable = {
				name = RICE_yazata_cult_center
				value = flag:tork
			}
		}
		else_if = {
			limit = { scope:RICE_yazata_vahagn_cult_center_option = yes }
			set_variable = {
				name = RICE_yazata_cult_center
				value = flag:vahagn
			}
		}
		else_if = {
			limit = { scope:RICE_yazata_gaim_cult_center_option = yes }
			set_variable = {
				name = RICE_yazata_cult_center
				value = flag:gaim
			}
		}
		else_if = {
			limit = { scope:RICE_yazata_gatsi_cult_center_option = yes }
			set_variable = {
				name = RICE_yazata_cult_center
				value = flag:gatsi
			}
		}
		else_if = {
			limit = { scope:RICE_yazata_kopala_cult_center_option = yes }
			set_variable = {
				name = RICE_yazata_cult_center
				value = flag:kopala
			}
		}
		else_if = {
			limit = { scope:RICE_yazata_zaden_cult_center_option = yes }
			set_variable = {
				name = RICE_yazata_cult_center
				value = flag:zaden
			}
		}		
		
		trigger_event = dharma_zoro.041
	}

	cost = {
		gold = 125 # Will depend
	}
	
	ai_potential = {
		short_term_gold > 125
	}

	ai_will_do = {
		base = 20
		modifier = {
			add = -8
			has_trait = cynical
		}
		modifier = {
			add = 8
			has_trait = zealous
		}
		modifier = {
			add = -8
			has_trait = lazy
		}
		modifier = {
			add = 8
			has_trait = ambitious
		}
	}
}
dharma_zoro_destroy_cult_center = {
	picture = { reference = "gfx/interface/illustrations/decisions/fp3_decision_strength.dds" }
	ai_check_interval = 40
	
	cooldown = { days = 3650 }

	desc = dharma_zoro_destroy_cult_center_desc
	selection_tooltip = dharma_zoro_destroy_cult_center_tooltip

	is_shown = {
		is_RICE_loaded = no
		highest_held_title_tier > tier_barony
		is_landed = yes
		OR = {
			NOT = { religion = religion:zoroastrianism_religion }
			AND = {
				religion = religion:zoroastrianism_religion
				faith = {
					OR = {
						has_doctrine = rice_zoroastrian_sassanian_doctrine
						has_doctrine = rice_zoroastrian_no_yazatas_doctrine
					}
				}
			}
		}
		RICE_qualifies_for_destroying_yazata_cult_centers_trigger = yes
	}
	
	is_valid = {
		OR = {
			NOT = { religion = religion:zoroastrianism_religion }
			AND = {
				religion = religion:zoroastrianism_religion
				faith = {
					OR = {
						has_doctrine = rice_zoroastrian_sassanian_doctrine
						has_doctrine = rice_zoroastrian_no_yazatas_doctrine
					}
				}
			}
		}

		custom_description = {
			text = RICE_destroy_yazata_cult_center_req
			RICE_qualifies_for_destroying_yazata_cult_centers_trigger = yes
		}

		OR = {
			AND = {
				highest_held_title_tier >= tier_county
				prestige_level >= 3
			}
			AND = {
				highest_held_title_tier >= tier_kingdom
				prestige_level >= 2
			}
		}
		
	}
	
	is_valid_showing_failures_only = {
		RICE_is_available_adult_even_if_sick_trigger = yes
	}

	effect = {

		if = {
			limit = {
				NOT = { religion = religion:zoroastrianism_religion }
			}
			custom_tooltip = dharma_zoro_destroy_cult_center_effect_tooltip_1
		}

		else_if = {
			limit = {
				faith = { has_doctrine_parameter = rice_unlock_destroy_cult_centers }
				religion = religion:zoroastrianism_religion
			}
			custom_tooltip = dharma_zoro_destroy_cult_center_effect_tooltip_2
		}
		custom_tooltip = dharma_zoro_destroy_cult_center_effect_tooltip_3
		
		trigger_event = dharma_zoro.042
	}

	cost = {
		prestige = major_prestige_value
	}
	
	ai_potential = {
		prestige > major_prestige_value
	}

	ai_will_do = {
		base = 20
		modifier = {
			add = -8
			has_trait = cynical
		}
		modifier = {
			add = 8
			has_trait = zealous
		}
		modifier = {
			add = -8
			has_trait = lazy
		}
		modifier = {
			add = 8
			has_trait = ambitious
		}
	}
}
dharma_zoro_worship_yazata = {
	picture = { reference = "gfx/interface/illustrations/decisions/decision_zoroastrian_fire_temple.dds" }
	ai_check_interval = 40
	
	cooldown = { days = 3650 }

	desc = dharma_zoro_destroy_cult_center_desc
	selection_tooltip = dharma_zoro_destroy_cult_center_tooltip

	is_shown = {
		is_RICE_loaded = no
		is_playable_character = yes
		religion = religion:zoroastrianism_religion
		NOT = { faith = { has_doctrine = rice_zoroastrian_no_yazatas_doctrine } }
		#NOT = { faith = { has_doctrine_parameter = rice_no_yazatas } }
	}
	
	is_valid = {
		religion = religion:zoroastrianism_religion
		NOT = { faith = { has_doctrine = rice_zoroastrian_no_yazatas_doctrine } }
		#NOT = { faith = { has_doctrine_parameter = rice_no_yazatas } }
	}
	
	is_valid_showing_failures_only = {
		is_available_adult = yes
	}

	
    widget = {
    	gui = "decision_view_widget_dharma_zoro_destroy_cult_center"
		controller = decision_option_list_controller
    	
		#decision_has_second_step = yes
		#decision_custom_widget_container = "custom_widgets_container_step_two"
		decision_to_second_step_button = "dharma_zoro_destroy_cult_center_type" 

		item = {
			value = RICE_yazata_anahita_option
			current_description = RICE_yazata_anahita_option_desc
			localization = RICE_yazata_anahita_option
			icon = "gfx/interface/icons/widgets/RICE_zoroastrian_anahita.dds"

			ai_chance = {
				value = 10
			}
		}

		item = {
			value = RICE_yazata_astghik_option
			is_shown = {
				faith = { has_doctrine_parameter = rice_unlock_armenian_yazatas }
			}
			current_description = RICE_yazata_astghik_option_desc
			localization = RICE_yazata_astghik_option
			icon = "gfx/interface/icons/widgets/RICE_zoroastrian_astghik.dds"

			ai_chance = {
				value = 10
			}
		}

		item = {
			value = RICE_yazata_bahram_option
			is_shown = {
				NOT = { faith = { has_doctrine_parameter = rice_unlock_armenian_yazatas } }
			}
			current_description = RICE_yazata_bahram_option_desc
			localization = RICE_yazata_bahram_option
			icon = "gfx/interface/icons/widgets/RICE_zoroastrian_bahram.dds"

			ai_chance = {
				value = 10
			}
		}

		item = {
			value = RICE_yazata_barshamin_option
			is_shown = {
				faith = { has_doctrine_parameter = rice_unlock_armenian_yazatas }
			}
			current_description = RICE_yazata_barshamin_option_desc
			localization = RICE_yazata_barshamin_option
			icon = "gfx/interface/icons/widgets/RICE_zoroastrian_barshamin.dds"

			ai_chance = {
				value = 10
			}
		}

		item = {
			value = RICE_yazata_dali_option
			is_shown = {
				faith = { has_doctrine_parameter = rice_unlock_georgian_yazatas }
			}
			current_description = RICE_yazata_dali_option_desc
			localization = RICE_yazata_dali_option
			icon = "gfx/interface/icons/widgets/RICE_zoroastrian_dali.dds"

			ai_chance = {
				value = 10
			}
		}

		item = {
			value = RICE_yazata_gaim_option
			is_shown = {
				faith = { has_doctrine_parameter = rice_unlock_georgian_yazatas }
			}
			current_description = RICE_yazata_gaim_option_desc
			localization = RICE_yazata_gaim_option
			icon = "gfx/interface/icons/widgets/RICE_zoroastrian_gaim.dds"

			ai_chance = {
				value = 10
			}
		}

		item = {
			value = RICE_yazata_gatsi_option
			is_shown = {
				faith = { has_doctrine_parameter = rice_unlock_georgian_yazatas }
			}
			current_description = RICE_yazata_gatsi_option_desc
			localization = RICE_yazata_gatsi_option
			icon = "gfx/interface/icons/widgets/RICE_zoroastrian_gatsi.dds"

			ai_chance = {
				value = 10
			}
		}

		item = {
			value = RICE_yazata_kopala_option
			is_shown = {
				faith = { has_doctrine_parameter = rice_unlock_georgian_yazatas }
			}
			current_description = RICE_yazata_kopala_option_desc
			localization = RICE_yazata_kopala_option
			icon = "gfx/interface/icons/widgets/RICE_zoroastrian_kopala.dds"

			ai_chance = {
				value = 10
			}
		}

		item = {
			value = RICE_yazata_mah_option
			current_description = RICE_yazata_mah_option_desc
			localization = RICE_yazata_mah_option
			icon = "gfx/interface/icons/widgets/RICE_zoroastrian_mah.dds"

			ai_chance = {
				value = 10
			}
		}

		item = {
			value = RICE_yazata_mithra_option
			current_description = RICE_yazata_mithra_option_desc
			localization = RICE_yazata_mithra_option
			icon = "gfx/interface/icons/widgets/RICE_zoroastrian_mithra.dds"

			ai_chance = {
				value = 10
			}
		}

		item = {
			value = RICE_yazata_nana_option
			current_description = RICE_yazata_nana_option_desc
			localization = RICE_yazata_nana_option
			icon = "gfx/interface/icons/widgets/RICE_zoroastrian_nana.dds"

			ai_chance = {
				value = 10
			}
		}

		item = {
			value = RICE_yazata_rashnu_option
			is_shown = {
				NOT = { faith = { has_doctrine_parameter = rice_unlock_georgian_yazatas } }
			}
			current_description = RICE_yazata_rashnu_option_desc
			localization = RICE_yazata_rashnu_option
			icon = "gfx/interface/icons/widgets/RICE_zoroastrian_rashnu.dds"

			ai_chance = {
				value = 10
			}
		}

		item = {
			value = RICE_yazata_siyavash_option
			is_shown = {
				faith = { has_doctrine_parameter = rice_unlock_bactro_sogdian_yazatas }
			}
			current_description = RICE_yazata_siyavash_option_desc
			localization = RICE_yazata_siyavash_option
			icon = "gfx/interface/icons/widgets/RICE_zoroastrian_siyavash.dds"

			ai_chance = {
				value = 10
			}
		}

		item = {
			value = RICE_yazata_sraosha_option
			is_shown = {
				NOT = { faith = { has_doctrine_parameter = rice_unlock_georgian_yazatas } }
			}
			current_description = RICE_yazata_sraosha_option_desc
			localization = RICE_yazata_sraosha_option
			icon = "gfx/interface/icons/widgets/RICE_zoroastrian_sraosha.dds"

			ai_chance = {
				value = 10
			}
		}

		item = {
			value = RICE_yazata_tir_option
			current_description = RICE_yazata_tir_option_desc
			localization = RICE_yazata_tir_option
			icon = "gfx/interface/icons/widgets/RICE_zoroastrian_tir.dds"

			ai_chance = {
				value = 10
			}
		}

		item = {
			value = RICE_yazata_tork_option
			is_shown = {
				faith = { has_doctrine_parameter = rice_unlock_armenian_yazatas }
			}
			current_description = RICE_yazata_tork_option_desc
			localization = RICE_yazata_tork_option
			icon = "gfx/interface/icons/widgets/RICE_zoroastrian_tork.dds"

			ai_chance = {
				value = 10
			}
		}

		item = {
			value = RICE_yazata_vahagn_option
			is_shown = {
				faith = { has_doctrine_parameter = rice_unlock_armenian_yazatas }
			}
			current_description = RICE_yazata_vahagn_option_desc
			localization = RICE_yazata_vahagn_option
			icon = "gfx/interface/icons/widgets/RICE_zoroastrian_vahagn.dds"

			ai_chance = {
				value = 10
			}
		}

		item = {
			value = RICE_yazata_wakhsh_option
			is_shown = {
				faith = { has_doctrine_parameter = rice_unlock_bactro_sogdian_yazatas }
			}
			current_description = RICE_yazata_wakhsh_option_desc
			localization = RICE_yazata_wakhsh_option
			icon = "gfx/interface/icons/widgets/RICE_zoroastrian_wakhsh.dds"

			ai_chance = {
				value = 10
			}
		}

		item = {
			value = RICE_yazata_weshparkar_option
			is_shown = {
				faith = { has_doctrine_parameter = rice_unlock_bactro_sogdian_yazatas }
			}
			current_description = RICE_yazata_weshparkar_option_desc
			localization = RICE_yazata_weshparkar_option
			icon = "gfx/interface/icons/widgets/RICE_zoroastrian_weshparkar.dds"

			ai_chance = {
				value = 10
			}
		}

		item = {
			value = RICE_yazata_zaden_option
			is_shown = {
				faith = { has_doctrine_parameter = rice_unlock_georgian_yazatas }
			}
			current_description = RICE_yazata_zaden_option_desc
			localization = RICE_yazata_zaden_option
			icon = "gfx/interface/icons/widgets/RICE_zoroastrian_zaden.dds"

			ai_chance = {
				value = 10
			}
		}

	}

	effect = {

		custom_tooltip = dharma_zoro_destroy_cult_center_effect_tooltip_1
		custom_tooltip = dharma_zoro_destroy_cult_center_effect_tooltip_2	

		if = {
			limit = {
				faith = { has_doctrine = rice_zoroastrian_sassanian_doctrine }
			}
			custom_tooltip = dharma_zoro_destroy_cult_center_effect_tooltip_3
		}

		if = { # AI
			limit = { is_ai = yes }
			random_list = {
				10 = {
					set_variable = {
						name = RICE_yazata_worship
						value = flag:anahita
					}					
				}
				10 = {
					trigger = {
						NOT = { faith = { has_doctrine_parameter = rice_unlock_armenian_yazatas } }
					}
					set_variable = {
						name = RICE_yazata_worship
						value = flag:bahram
					}					
				}
				10 = {
					set_variable = {
						name = RICE_yazata_worship
						value = flag:mah
					}					
				}
				10 = {
					set_variable = {
						name = RICE_yazata_worship
						value = flag:mithra
					}					
				}
				10 = {
					set_variable = {
						name = RICE_yazata_worship
						value = flag:nana
					}					
				}
				10 = {
					trigger = {
						NOT = { faith = { has_doctrine_parameter = rice_unlock_georgian_yazatas } }
					}
					set_variable = {
						name = RICE_yazata_worship
						value = flag:rashnu
					}					
				}
				10 = {
					trigger = {
						NOT = { faith = { has_doctrine_parameter = rice_unlock_georgian_yazatas } }
					}
					set_variable = {
						name = RICE_yazata_worship
						value = flag:sraosha
					}					
				}
				10 = {
					set_variable = {
						name = RICE_yazata_worship
						value = flag:tir
					}					
				}
				10 = {
					trigger = {
						faith = { has_doctrine_parameter = rice_unlock_bactro_sogdian_yazatas }
					}
					set_variable = {
						name = RICE_yazata_worship
						value = flag:siyavash
					}					
				}
				10 = {
					trigger = {
						faith = { has_doctrine_parameter = rice_unlock_bactro_sogdian_yazatas }
					}
					set_variable = {
						name = RICE_yazata_worship
						value = flag:wakhsh
					}					
				}
				10 = {
					trigger = {
						faith = { has_doctrine_parameter = rice_unlock_bactro_sogdian_yazatas }
					}
					set_variable = {
						name = RICE_yazata_worship
						value = flag:weshparkar
					}					
				}
				10 = {
					trigger = {
						faith = { has_doctrine_parameter = rice_unlock_armenian_yazatas }
					}
					set_variable = {
						name = RICE_yazata_worship
						value = flag:astghik
					}					
				}
				10 = {
					trigger = {
						faith = { has_doctrine_parameter = rice_unlock_armenian_yazatas }
					}
					set_variable = {
						name = RICE_yazata_worship
						value = flag:barshamin
					}					
				}
				10 = {
					trigger = {
						faith = { has_doctrine_parameter = rice_unlock_armenian_yazatas }
					}
					set_variable = {
						name = RICE_yazata_worship
						value = flag:tork
					}					
				}
				10 = {
					trigger = {
						faith = { has_doctrine_parameter = rice_unlock_armenian_yazatas }
					}
					set_variable = {
						name = RICE_yazata_worship
						value = flag:vahagn
					}					
				}
				10 = {
					trigger = {
						faith = { has_doctrine_parameter = rice_unlock_georgian_yazatas }
					}
					set_variable = {
						name = RICE_yazata_worship
						value = flag:dali
					}					
				}
				10 = {
					trigger = {
						faith = { has_doctrine_parameter = rice_unlock_georgian_yazatas }
					}
					set_variable = {
						name = RICE_yazata_worship
						value = flag:gaim
					}					
				}
				10 = {
					trigger = {
						faith = { has_doctrine_parameter = rice_unlock_georgian_yazatas }
					}
					set_variable = {
						name = RICE_yazata_worship
						value = flag:gatsi
					}					
				}
				10 = {
					trigger = {
						faith = { has_doctrine_parameter = rice_unlock_georgian_yazatas }
					}
					set_variable = {
						name = RICE_yazata_worship
						value = flag:kopala
					}					
				}
				10 = {
					trigger = {
						faith = { has_doctrine_parameter = rice_unlock_georgian_yazatas }
					}
					set_variable = {
						name = RICE_yazata_worship
						value = flag:zaden
					}					
				}
			}
		}
		else_if = {
			limit = { scope:RICE_yazata_anahita_option = yes }
			set_variable = {
				name = RICE_yazata_worship
				value = flag:anahita
			}
		}
		else_if = {
			limit = { scope:RICE_yazata_bahram_option = yes }
			set_variable = {
				name = RICE_yazata_worship
				value = flag:bahram
			}
		}
		else_if = {
			limit = { scope:RICE_yazata_mah_option = yes }
			set_variable = {
				name = RICE_yazata_worship
				value = flag:mah
			}
		}
		else_if = {
			limit = { scope:RICE_yazata_mithra_option = yes }
			set_variable = {
				name = RICE_yazata_worship
				value = flag:mithra
			}
		}
		else_if = {
			limit = { scope:RICE_yazata_nana_option = yes }
			set_variable = {
				name = RICE_yazata_worship
				value = flag:nana
			}
		}
		else_if = {
			limit = { scope:RICE_yazata_rashnu_option = yes }
			set_variable = {
				name = RICE_yazata_worship
				value = flag:rashnu
			}
		}
		else_if = {
			limit = { scope:RICE_yazata_sraosha_option = yes }
			set_variable = {
				name = RICE_yazata_worship
				value = flag:sraosha
			}
		}
		else_if = {
			limit = { scope:RICE_yazata_tir_option = yes }
			set_variable = {
				name = RICE_yazata_worship
				value = flag:tir
			}
		}
		else_if = {
			limit = { scope:RICE_yazata_siyavash_option = yes }
			set_variable = {
				name = RICE_yazata_worship
				value = flag:siyavash
			}
		}
		else_if = {
			limit = { scope:RICE_yazata_wakhsh_option = yes }
			set_variable = {
				name = RICE_yazata_worship
				value = flag:wakhsh
			}
		}
		else_if = {
			limit = { scope:RICE_yazata_weshparkar_option = yes }
			set_variable = {
				name = RICE_yazata_worship
				value = flag:weshparkar
			}
		}
		else_if = {
			limit = { scope:RICE_yazata_astghik_option = yes }
			set_variable = {
				name = RICE_yazata_worship
				value = flag:astghik
			}
		}
		else_if = {
			limit = { scope:RICE_yazata_barshamin_option = yes }
			set_variable = {
				name = RICE_yazata_worship
				value = flag:barshamin
			}
		}
		else_if = {
			limit = { scope:RICE_yazata_tork_option = yes }
			set_variable = {
				name = RICE_yazata_worship
				value = flag:tork
			}
		}
		else_if = {
			limit = { scope:RICE_yazata_vahagn_option = yes }
			set_variable = {
				name = RICE_yazata_worship
				value = flag:vahagn
			}
		}
		else_if = {
			limit = { scope:RICE_yazata_dali_option = yes }
			set_variable = {
				name = RICE_yazata_worship
				value = flag:dali
			}
		}
		else_if = {
			limit = { scope:RICE_yazata_gaim_option = yes }
			set_variable = {
				name = RICE_yazata_worship
				value = flag:gaim
			}
		}
		else_if = {
			limit = { scope:RICE_yazata_gatsi_option = yes }
			set_variable = {
				name = RICE_yazata_worship
				value = flag:gatsi
			}
		}
		else_if = {
			limit = { scope:RICE_yazata_kopala_option = yes }
			set_variable = {
				name = RICE_yazata_worship
				value = flag:kopala
			}
		}
		else_if = {
			limit = { scope:RICE_yazata_zaden_option = yes }
			set_variable = {
				name = RICE_yazata_worship
				value = flag:zaden
			}
		}
		
		add_character_flag = {
			flag = planning_an_activity
			days = 1
		}

		# Choose appropriate location
		trigger_event = dharma_zoro.040
		
	}

	cost = {
		gold = RICE_activity_cost # Will depend
		#piety = medium_piety_gain
	}
	
	ai_potential = {
		short_term_gold > RICE_activity_cost
	}

	ai_will_do = {
		base = 20
		modifier = {
			add = -8
			has_trait = cynical
		}
		modifier = {
			add = 8
			has_trait = zealous
		}
	}
}
dharma_zoro_change_xwedodah = {
	picture = { reference = "gfx/interface/illustrations/decisions/decision_iranian_court.dds" }
	decision_group_type = major
	desc = dharma_zoro_change_xwedodah_desc

	ai_check_interval = 120

	is_shown = {
		is_RICE_loaded = no
		is_landed = yes
		NOR = {
			has_global_variable = RICE_zoroastrian_xwedodah_incest_changed
			has_global_variable = RICE_zoroastrian_xwedodah_incest_kept					
		}
		NOT = {
			is_target_in_global_variable_list = {
				name = unavailable_unique_decisions
				target = flag:dharma_zoro_change_xwedodah_flag
			}
		}
		has_faith = faith:mazdayasna
	}

	is_valid = {
		OR = {
			highest_held_title_tier > tier_duchy
			piety_level >= 5
			has_trait = saoshyant
		}
		OR = {
			AND = {
				piety_level >= 4
				prestige_level >= 3			
			}
			has_trait = saoshyant
		}	
		culture = {
			has_cultural_era_or_later = culture_era_high_medieval
		}
		has_faith = faith:mazdayasna
		# Not tribal - vanilla localization is bugged atm
		custom_description = {
			text = RICE_not_tribal_government_req
			NOT = { government_has_flag = government_is_tribal }
		}
	}

	is_valid_showing_failures_only = {
		is_adult = yes
		is_available = yes
		is_independent_ruler = yes
	}

	cost = { 
		gold = { value = major_gold_value }
		prestige = { value = major_prestige_value }
	}	

	ai_potential = {
		short_term_gold > major_gold_value
	}

	effect = {
		#Can only happen once
		add_to_global_variable_list = {
			name = unavailable_unique_decisions
			target = flag:dharma_zoro_change_xwedodah_flag
		}
		save_scope_as = xwedodah_resolver
		show_as_tooltip = {
			add_piety = 250
		}
		custom_tooltip = dharma_zoro_change_xwedodah_effect_tooltip_1
		trigger_event = dharma_zoro.070
	}

	ai_will_do = {
		base = 100
	}
}

